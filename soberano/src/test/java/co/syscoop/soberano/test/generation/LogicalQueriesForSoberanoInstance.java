package co.syscoop.soberano.test.generation;

import org.apache.commons.lang3.ArrayUtils;

import co.syscoop.soberano.rules.enforcer.generator.LogicalQueriesBatch;

public class LogicalQueriesForSoberanoInstance extends LogicalQueriesBatch {
	
	public LogicalQueriesForSoberanoInstance() {
		LogicalQueriesForSoberanoMetamodel logicalQueriesForSoberanoMetamodel = new LogicalQueriesForSoberanoMetamodel();
		super.setBatch(ArrayUtils.addAll(logicalQueriesForSoberanoMetamodel.getBatch(),
				new String[] {
						//////////////////////////////////////////////////////////////////////////////////
						// rules not generated. see the notes in the soberano instance conceptual model //
						//////////////////////////////////////////////////////////////////////////////////
						
						/******************/
						/*RULE_EXISTENCE_1*/
						/******************/
						"--assure only one activity instance exists. the default stage is 2 (Enabled)\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_tg_Activity_beforeinsert_RULE_EXISTENCE_1\"()\n"
						+ "						    RETURNS trigger\n"
						+ "						    LANGUAGE 'plpgsql'\n"
						+ "						    COST 100\n"
						+ "						    VOLATILE NOT LEAKPROOF\n"
						+ "	AS \n"
						+ "$BODY$\n"
						+ "	BEGIN\n"
						+ "		DELETE FROM soberano.\"Activity\";\n"
						+ "		DELETE FROM metamodel.\"EntityTypeInstance\" WHERE \"EntityTypeInstanceHasEntityTypeInstanceId\" = 1;\n"
						+ "		INSERT INTO metamodel.\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\", \n"
						+ "													\"This_is_created_at_Timestamp\", \n"
						+ "													\"This_is_instance_of_EntityType_with_MeaningHasMeaningId\", \n"
						+ "													\"This_is_owned_by_Authority_with_AuthorityHasAuthorityId\", \n"
						+ "													\"This_is_in_Stage_with_StageHasStageId\", \n"
						+ "													\"This_is_created_by_User_with_UserHasUserId\")\n"
						+ "			VALUES (1, \n"
						+ "					now(), \n"
						+ "					'_D205391E-37D6-4AA6-B226-88E7A84B0C70', \n"
						+ "					1, \n"
						+ "					2, \n"
						+ "					1);\n"
						+ "		NEW.\"ActivityHasActivityId\" := 1;\n"
						+ "		NEW.\"This_is_identified_by_EntityTypeInstance_id\" := 1;\n"
						+ "		RETURN NEW;\n"
						+ "	END;\n"
						+ "$BODY$;\n"
						+ "\n"
						+ "CREATE TRIGGER \"tg_Activity_before_insert_RULE_EXISTENCE_1\"\n"
						+ "	BEFORE INSERT\n"
						+ "	ON soberano.\"Activity\"\n"
						+ "	FOR EACH ROW\n"
						+ "	EXECUTE FUNCTION soberano.\"fn_tg_Activity_beforeinsert_RULE_EXISTENCE_1\"();",
						
						
						
						/******************/
						/*RULE_EXISTENCE_2*/
						/******************/
						"--assure only one configuration instance exists. the default stage is 2 (Enabled)\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_tg_Configuration_beforeinsert_RULE_EXISTENCE_2\"()\n"
						+ "						    RETURNS trigger\n"
						+ "						    LANGUAGE 'plpgsql'\n"
						+ "						    COST 100\n"
						+ "						    VOLATILE NOT LEAKPROOF\n"
						+ "	AS \n"
						+ "$BODY$\n"
						+ "	BEGIN\n"
						+ "		DELETE FROM soberano.\"Configuration\";\n"
						+ "		DELETE FROM metamodel.\"EntityTypeInstance\" WHERE \"EntityTypeInstanceHasEntityTypeInstanceId\" = 2;\n"
						+ "		INSERT INTO metamodel.\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\", \n"
						+ "													\"This_is_created_at_Timestamp\", \n"
						+ "													\"This_is_instance_of_EntityType_with_MeaningHasMeaningId\", \n"
						+ "													\"This_is_owned_by_Authority_with_AuthorityHasAuthorityId\", \n"
						+ "													\"This_is_in_Stage_with_StageHasStageId\", \n"
						+ "													\"This_is_created_by_User_with_UserHasUserId\")\n"
						+ "			VALUES (2, \n"
						+ "					now(), \n"
						+ "					'_CA784430-45B2-4403-9257-1D3906C164D1', \n"
						+ "					1, \n"
						+ "					2, \n"
						+ "					1);\n"
						+ "		NEW.\"ConfigurationHasConfigurationId\" := 1;\n"
						+ "		NEW.\"This_is_identified_by_EntityTypeInstance_id\" := 2;\n"
						+ "		RETURN NEW;\n"
						+ "	END;\n"
						+ "$BODY$;\n"
						+ "\n"
						+ "CREATE TRIGGER \"tg_Configuration_before_insert_RULE_EXISTENCE_2\"\n"
						+ "	BEFORE INSERT\n"
						+ "	ON soberano.\"Configuration\"\n"
						+ "	FOR EACH ROW\n"
						+ "	EXECUTE FUNCTION soberano.\"fn_tg_Configuration_beforeinsert_RULE_EXISTENCE_2\"();",
						
						
						
						/******************/
						/*RULE_EXISTENCE_3*/
						/******************/
						"--assure only one catalog instance exists. the default stage is 2 (Enabled)\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_tg_Catalog_beforeinsert_RULE_EXISTENCE_3\"()\n"
						+ "						    RETURNS trigger\n"
						+ "						    LANGUAGE 'plpgsql'\n"
						+ "						    COST 100\n"
						+ "						    VOLATILE NOT LEAKPROOF\n"
						+ "	AS \n"
						+ "$BODY$\n"
						+ "	BEGIN\n"
						+ "		DELETE FROM soberano.\"Catalog\";\n"
						+ "		DELETE FROM metamodel.\"EntityTypeInstance\" WHERE \"EntityTypeInstanceHasEntityTypeInstanceId\" = 3;\n"
						+ "		INSERT INTO metamodel.\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\", \n"
						+ "													\"This_is_created_at_Timestamp\", \n"
						+ "													\"This_is_instance_of_EntityType_with_MeaningHasMeaningId\", \n"
						+ "													\"This_is_owned_by_Authority_with_AuthorityHasAuthorityId\", \n"
						+ "													\"This_is_in_Stage_with_StageHasStageId\", \n"
						+ "													\"This_is_created_by_User_with_UserHasUserId\")\n"
						+ "			VALUES (3, \n"
						+ "					now(), \n"
						+ "					'_94C0BD6E-5DED-4F46-95DA-994C881B6271', \n"
						+ "					1, \n"
						+ "					2, \n"
						+ "					1);\n"
						+ "		NEW.\"CatalogHasCatalogId\" := 1;\n"
						+ "		NEW.\"This_is_identified_by_EntityTypeInstance_id\" := 3;\n"
						+ "		RETURN NEW;\n"
						+ "	END;\n"
						+ "$BODY$;\n"
						+ "\n"
						+ "CREATE TRIGGER \"tg_Catalog_before_insert_RULE_EXISTENCE_3\"\n"
						+ "	BEFORE INSERT\n"
						+ "	ON soberano.\"Catalog\"\n"
						+ "	FOR EACH ROW\n"
						+ "	EXECUTE FUNCTION soberano.\"fn_tg_Catalog_beforeinsert_RULE_EXISTENCE_3\"();",
						
						
						
						/******************/
						/*RULE_EXISTENCE_4*/
						/******************/
						"--assure only one cash register instance exists. the default stage is 2 (Enabled)\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_tg_CashRegister_beforeinsert_RULE_EXISTENCE_4\"()\n"
						+ "						    RETURNS trigger\n"
						+ "						    LANGUAGE 'plpgsql'\n"
						+ "						    COST 100\n"
						+ "						    VOLATILE NOT LEAKPROOF\n"
						+ "	AS \n"
						+ "$BODY$\n"
						+ "	BEGIN\n"
						+ "		DELETE FROM soberano.\"CashRegister\";\n"
						+ "		DELETE FROM metamodel.\"EntityTypeInstance\" WHERE \"EntityTypeInstanceHasEntityTypeInstanceId\" = 4;\n"
						+ "		INSERT INTO metamodel.\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\", \n"
						+ "													\"This_is_created_at_Timestamp\", \n"
						+ "													\"This_is_instance_of_EntityType_with_MeaningHasMeaningId\", \n"
						+ "													\"This_is_owned_by_Authority_with_AuthorityHasAuthorityId\", \n"
						+ "													\"This_is_in_Stage_with_StageHasStageId\", \n"
						+ "													\"This_is_created_by_User_with_UserHasUserId\")\n"
						+ "			VALUES (4, \n"
						+ "					now(), \n"
						+ "					'_7E0F5DAA-21DB-433E-BFBF-F4437F3E0FE9', \n"
						+ "					1, \n"
						+ "					2, \n"
						+ "					1);\n"
						+ "		NEW.\"CashRegisterHasCashRegisterId\" := 1;\n"
						+ "		NEW.\"This_is_identified_by_EntityTypeInstance_id\" := 4;\n"
						+ "		RETURN NEW;\n"
						+ "	END;\n"
						+ "$BODY$;\n"
						+ "\n"
						+ "CREATE TRIGGER \"tg_CashRegister_before_insert_RULE_EXISTENCE_4\"\n"
						+ "	BEFORE INSERT\n"
						+ "	ON soberano.\"CashRegister\"\n"
						+ "	FOR EACH ROW\n"
						+ "	EXECUTE FUNCTION soberano.\"fn_tg_CashRegister_beforeinsert_RULE_EXISTENCE_4\"();",
						
						
						
						/****************************************************************************/
						/*RULE_CONSTRAINT_1: At most one 'Warehouse' can be a procurement warehouse.*/
						/*RULE_CONSTRAINT_2: At most one 'Warehouse' can be a sales warehouse.		*/
						/****************************************************************************/
						"--it is called before creating and modifying warehouses, within the corresponding funstions\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_RULE_CONSTRAINTS_1_AND_2\"(isProcurementWarehouse boolean, isSalesWarehouse boolean)\n"
						+ "    RETURNS void\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE NOT LEAKPROOF\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		IF isProcurementWarehouse AND\n"
						+ "			isSalesWarehouse THEN\n"
						+ "			UPDATE soberano.\"Warehouse\" \n"
						+ "				SET \"Warehouse_is_procurement_warehouse\" = false,\n"
						+ "					\"Warehouse_is_sales_warehouse\" = false;\n"
						+ "		ELSIF isProcurementWarehouse THEN\n"
						+ "			UPDATE soberano.\"Warehouse\" \n"
						+ "				SET \"Warehouse_is_procurement_warehouse\" = false;\n"
						+ "		ELSIF isSalesWarehouse THEN\n"
						+ "			UPDATE soberano.\"Warehouse\" \n"
						+ "				SET \"Warehouse_is_sales_warehouse\" = false;\n"
						+ "		END IF;\n"
						+ "	END;\n"
						+ "$BODY$;",
						
						
						
						/********************************************************************************/
						/*RULE_CONSTRAINT_4: At most one 'Currency' can be a system currency.			*/
						/*RULE_CONSTRAINT_5: At most one 'Currency' can be a price reference currency.	*/
						/********************************************************************************/
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_RULE_CONSTRAINTS_4_AND_5\"(\n"
						+ "	issystemcurrency boolean,\n"
						+ "	ispricereferencecurrency boolean)\n"
						+ "    RETURNS void\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		IF issystemcurrency AND\n"
						+ "			ispricereferencecurrency THEN\n"
						+ "			UPDATE soberano.\"Currency\" \n"
						+ "				SET \"Currency_is_system_currency\" = false,\n"
						+ "					\"Currency_is_price_reference_currency\" = false;\n"
						+ "		ELSIF issystemcurrency THEN\n"
						+ "			UPDATE soberano.\"Currency\" \n"
						+ "				SET \"Currency_is_system_currency\" = false;\n"
						+ "		ELSIF ispricereferencecurrency THEN\n"
						+ "			UPDATE soberano.\"Currency\" \n"
						+ "				SET \"Currency_is_price_reference_currency\" = false;\n"
						+ "		END IF;\n"
						+ "	END;\n"
						+ "$BODY$;",
						
						
						
						/********************************************************************************/
						/*RULE_CONSTRAINT_6: At least one 'Currency' must be a system currency.			*/
						/*RULE_CONSTRAINT_7: At least one 'Currency' must be a price reference currency.	*/
						/********************************************************************************/
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_RULE_CONSTRAINTS_6_AND_7\"(defaultCurrencyId integer)\n"
						+ "    RETURNS void\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		isSystemCurrency boolean;\n"
						+ "		isReferencePriceCurency boolean;\n"
						+ "	BEGIN		\n"
						+ "		\n"
						+ "		--if currently none currency is system currency, default currency is assumed as the system currency\n"
						+ "		SELECT NOT EXISTS(SELECT * FROM soberano.\"Currency\" WHERE \"Currency_is_system_currency\")\n"
						+ "			INTO isSystemCurrency;\n"
						+ "		UPDATE soberano.\"Currency\" SET \"Currency_is_system_currency\" = isSystemCurrency\n"
						+ "			WHERE isSystemCurrency AND \"CurrencyHasCurrencyId\" = defaultCurrencyId;\n"
						+ "						\n"
						+ "		--if currently none currency is reference price currency, default currency is assumed as the reference price currency\n"
						+ "		SELECT NOT EXISTS(SELECT * FROM soberano.\"Currency\" WHERE \"Currency_is_price_reference_currency\")\n"
						+ "			INTO isReferencePriceCurency;\n"
						+ "		UPDATE soberano.\"Currency\" SET \"Currency_is_price_reference_currency\" = isReferencePriceCurency\n"
						+ "			WHERE isReferencePriceCurency AND \"CurrencyHasCurrencyId\" = defaultCurrencyId;\n"
						+ "		\n"
						+ "	END;\n"
						+ "$BODY$;",
						
						
						
						///////////////////////////////
						// foreign keys to metamodel //
						///////////////////////////////
						"ALTER TABLE soberano.\"Activity\"\n"
						+ "  ADD CONSTRAINT \"Activity_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
						
						
						
						"ALTER TABLE soberano.\"Counter\"\n"
						+ "  ADD CONSTRAINT \"Counter_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
								
								
								
						"ALTER TABLE soberano.\"Order\"\n"
						+ "  ADD CONSTRAINT \"Order_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
						
						
						
						"ALTER TABLE soberano.\"Configuration\"\n"
						+ "  ADD CONSTRAINT \"Configuration_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
								
								
								
						"ALTER TABLE soberano.\"Catalog\"\n"
						+ "  ADD CONSTRAINT \"Catalog_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
								
						
								
						"ALTER TABLE soberano.\"CashRegister\"\n"
						+ "  ADD CONSTRAINT \"CashRegister_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
						+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
						
						
						
						"ALTER TABLE soberano.\"Worker\"\n"
								+ "  ADD CONSTRAINT \"Worker_This_is_identified_by_EntityTypeInstance_id_fkey\" FOREIGN KEY (\"This_is_identified_by_EntityTypeInstance_id\")\n"
								+ "      REFERENCES \"metamodel\".\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\") MATCH SIMPLE\n"
								+ "      ON UPDATE CASCADE ON DELETE CASCADE;",
						
						
						
						/////////////////////////////////////
						// business organization structure //
						/////////////////////////////////////
						
						"--add responsibilities\n"
						+ "--responsibility 1 is reserved for soberano.responsibility.top\n"
						+ "INSERT INTO \"metamodel\".\"Responsibility\" (\"ResponsibilityHasResponsibilityId\",\n"
						+ "						\"This_has_Name\")	\n"
						+ "	VALUES (2, 'Manager'),\n"
						+ "		(3, 'Accounter'),\n"
						+ "		(4, 'Salesclerk'),\n"
						+ "		(5, 'Shift manager'),\n"
						+ "		(6, 'Checker'),\n"
						+ "		(7, 'Auditor'),\n"
						+ "		(8, 'Workshop 1 worker'),\n"
						+ "		(9, 'Workshop 2 worker'),\n"
						+ "		(10, 'Storekeeper'),\n"
						+ "		(11, 'Catalog maintainer'),\n"
						+ "		(12, 'Community manager'),\n"
						+ "		(13, 'Procurement worker'),\n"
						+ "		(14, 'System admin'),\n"
						+ "		(15, 'Technologist');",
						
						
												
						"--assign top user to all responsibilities\n"
						+ "SELECT \"metamodel\".\"fn_User_assignToResponsibilities\"(1, ARRAY[2,3,4,5,6,7,8,9,10,11,12,13,14,15], ARRAY[1,1,1,1,1,1,1,1,1,1,1,1,1,1]);",
						
							
												
						/////////////////////////////////////
						// business dynamics configuration //
						/////////////////////////////////////
						
						"--life cycles\n"
						+ "INSERT INTO \"metamodel\".\"LifeCycle\" (\"LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_is_for_EntityType_with_MeaningHasMeaningId\")\n"
						+ "	VALUES (1, 'Activity', '_D205391E-37D6-4AA6-B226-88E7A84B0C70'),\n"
						+ "			(2, 'Counter', '_0126EFEB-6646-4C9C-B0C2-28EB3B25E3A7'),\n"
						+ "			(3, 'Order', '_BD3DEF99-C7B5-4A31-BD72-FCC02EDB6355'),\n"
						+ "			(4, 'Configuration', '_CA784430-45B2-4403-9257-1D3906C164D1'),\n"
						+ "			(5, 'Catalog', '_94C0BD6E-5DED-4F46-95DA-994C881B6271'),\n"
						+ " 		(6, 'Worker', '_2632E1D8-8D63-4DD4-9FA0-A19C0250A09B'),\n"
						+ "			(7, 'AcquirableMaterial', '_9FEE3FFC-A5FB-423E-8D33-40B22B40022E'),\n"
						+ "			(8, 'CostCenter', '_BF752D2F-A23F-4764-BFE3-8B3ED196AB88'),\n"
						+ "			(9, 'Currency', '_D50FB66E-606B-4CE0-8005-6E172E66746B'),\n"
						+ "			(10, 'MaterialExpenditure', '_80FDAA4B-92DB-4A88-89F8-BC11EEFBF0FE'),\n"
						+ "			(11, 'PayrollExpenditure', '_9FE7DA9E-6FB3-4490-A155-E35656C281D7'),\n"
						+ "			(12, 'Process', '_0AEEE069-E89E-407B-BF1D-B7881EF813B3'),\n"
						+ "			(13, 'Product', '_18118B72-85F7-47D8-A683-25B366896F80'),\n"
						+ "			(14, 'ProductCategory', '_819F484A-3996-4398-894B-634B23C2160D'),\n"
						+ "			(15, 'Provider', '_FD850F63-E17A-4803-B04B-59004C0F6C2D'),\n"
						+ "			(16, 'Unit', '_8B5F06D3-F307-49D7-99F1-57541D8A2B35'),\n"
						+ "			(17, 'Warehouse', '_F6E70C11-9ABC-469E-8468-930AAC301E70'),\n"
						+ "			(18, 'ServiceExpenditure', '_41F021C3-227F-4184-A7F8-6E69DA816D2D');",
						
						
						
						"--lifecycle deployment across top authority\n"
						+ "INSERT INTO \"metamodel\".\"LifeCycleIsDeployedAcrossAuthority\" (\"LifeCycleHasLifeCycleId\",\n"
						+ "								\"AuthorityHasAuthorityId\")\n"
						+ "	VALUES (1, 1),\n"
						+ "	 (2, 1),\n"
						+ "	 (3, 1),\n"
						+ "	 (4, 1),\n"
						+ "	 (5, 1),\n"
						+ "  (6, 1),\n"
						+ "	 (7, 1),\n"
						+ "	 (8, 1),\n"
						+ "	 (9, 1),\n"
						+ "	 (10, 1),\n"
						+ "	 (11, 1),\n"
						+ "	 (12, 1),\n"
						+ "	 (13, 1),\n"
						+ "	 (14, 1),\n"
						+ "	 (15, 1),\n"
						+ "	 (16, 1),\n"
						+ "	 (17, 1),\n"
						+ "	 (18, 1);",
								
						
						
						"--add lifecycle stages under top authority jurisdiction\n"
						+ "--stage 1 is reserved for soberano.stage.starting\n"
						+ "INSERT INTO \"metamodel\".\"Stage\" (\"StageHasStageId\", \"This_has_Name\", \"This_is_under_jurisdiction_of_Authority_with_AuthorityHasAuthor\")\n"
						+ "							VALUES (2, 'Enabled', 1),\n"
						+ "								(3, 'Ongoing', 1),\n"
						+ "								(4, 'Recorded', 1),\n"
						+ "								(5, 'Canceled', 1),\n"
						+ "								(6, 'Closed', 1),\n"
						+ "								(7, 'Honored', 1),\n"
						+ "								(8, 'Disabled', 1),\n"
						+ "								(9, 'Dishonored', 1);",
						
						
						
						"/* activity lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (1001, 'Enabled', 1);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (1001, 'Check', 1, 1001, 1001, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (1, 'Manager', 1001),\n"
						+ "				(1, 'Salesclerk', 1001),\n"
						+ "				(1, 'Shift manager', 1001),\n"
						+ "				(1, 'Checker', 1001),\n"
						+ "				(1, 'Auditor', 1001),\n"
						+ "				(1, 'System admin', 1001);",
						
						
						
						"/* counter lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (2001, 'soberano.stage.starting', 2),\n"
						+ "		(2002, 'Enabled', 2),\n"
						+ "		(2003, 'Disabled', 2);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (2001, 'Add', 2, 2001, 2002, 'false'),\n"
						+ "		(2002, 'Apply', 2, 2002, 2002, 'false'),\n"
						+ "		(2003, 'Disable', 2, 2002, 2003, 'false'),\n"
						+ "		(2004, 'Check', 2, 2002, 2002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (2, 'Manager', 2001),\n"
						+ "				(2, 'System admin', 2001),\n"
						+ "				(2, 'Manager', 2002),\n"
						+ "				(2, 'System admin', 2002),\n"
						+ "				(2, 'Manager', 2003),\n"
						+ "				(2, 'System admin', 2003),\n"
						+ "				(2, 'Auditor', 2004);",
						
						
						
						"/* order lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (3001, 'soberano.stage.starting', 3),\n"
						+ "		(3002, 'Ongoing', 3),\n"
						+ "		(3003, 'Closed', 3);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (3001, 'Open', 3, 3001, 3002, 'false'),\n"
						+ "		(3002, 'Make', 3, 3002, 3002, 'false'),\n"
						+ "		(3003, 'Collect', 3, 3002, 3002, 'false'),\n"
						+ "		(3004, 'Close', 3, 3002, 3003, 'false'),\n"
						+ "		(3005, 'Check', 3, 3002, 3002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (3, 'Manager', 3001),\n"
						+ "				(3, 'Salesclerk', 3001),\n"
						+ "				(3, 'Shift manager', 3001),\n"
						+ "				(3, 'Manager', 3002),\n"
						+ "				(3, 'Salesclerk', 3002),\n"
						+ "				(3, 'Shift manager', 3002),\n"
						+ "				(3, 'Manager', 3003),\n"
						+ "				(3, 'Shift manager', 3003),\n"
						+ "				(3, 'Checker', 3003),\n"
						+ "				(3, 'Manager', 3004),\n"
						+ "				(3, 'Shift manager', 3004),\n"
						+ "				(3, 'Checker', 3004),\n"
						+ "				(3, 'Auditor', 3005);",
						
						
						
						"/* configuration lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (4001, 'Enabled', 4);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (4001, 'Check', 4, 4001, 4001, 'false'),\n"
						+ "		(4002, 'Apply', 4, 4001, 4001, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (4, 'Manager', 4001),\n"
						+ "				(4, 'System admin', 4001),\n"
						+ "				(4, 'Manager', 4002),\n"
						+ "				(4, 'System admin', 4002);",
						
						
						
						"/* catalog lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (5001, 'Enabled', 5);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (5001, 'Check', 5, 5001, 5001, 'false'),\n"
						+ "		(5002, 'Apply', 5, 5001, 5001, 'false'),\n"
						+ "		(5003, 'Export', 5, 5001, 5001, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (5, 'Manager', 5001),\n"
						+ "				(5, 'Accounter', 5001),\n"
						+ "				(5, 'Salesclerk', 5001),\n"
						+ "				(5, 'Shift manager', 5001),\n"
						+ "				(5, 'Checker', 5001),\n"
						+ "				(5, 'Auditor', 5001),\n"
						+ "				(5, 'Storekeeper', 5001),\n"
						+ "				(5, 'Catalog maintainer', 5001),\n"
						+ "				(5, 'Community manager', 5001),\n"
						+ "				(5, 'Procurement worker', 5001),\n"
						+ "				(5, 'System admin', 5001),\n"
						+ "				(5, 'Manager', 5002),\n"
						+ "				(5, 'Shift manager', 5002),\n"
						+ "				(5, 'Catalog maintainer', 5002),\n"
						+ "				(5, 'Manager', 5003),\n"
						+ "				(5, 'Shift manager', 5003),\n"
						+ "				(5, 'Accounter', 5003),\n"
						+ "				(5, 'Catalog maintainer', 5003),\n"
						+ "				(5, 'Auditor', 5003);",
						
						
						
						"/* worker lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (6001, 'soberano.stage.starting', 6),\n"
						+ "		(6002, 'Enabled', 6),\n"
						+ "		(6003, 'Disabled', 6);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (6001, 'Add', 6, 6001, 2002, 'false'),\n"
						+ "		(6002, 'Apply', 6, 6002, 6002, 'false'),\n"
						+ "		(6003, 'Disable', 6, 6002, 6003, 'false'),\n"
						+ "		(6004, 'Check', 6, 6002, 6002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (6, 'System admin', 6001),\n"
						+ "				(6, 'System admin', 6002),\n"
						+ "				(6, 'System admin', 6003),\n"
						+ "				(6, 'Auditor', 6004);",
						
						
						
						"/* product category lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (14001, 'soberano.stage.starting', 14),\n"
						+ "		(14002, 'Enabled', 14),\n"
						+ "		(14003, 'Disabled', 14);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (14001, 'Add', 14, 14001, 14002, 'false'),\n"
						+ "		(14002, 'Apply', 14, 14002, 14002, 'false'),\n"
						+ "		(14003, 'Disable', 14, 14002, 14003, 'false'),\n"
						+ "		(14004, 'Check', 14, 14002, 14002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (14, 'Catalog maintainer', 14001),\n"
						+ "				(14, 'Catalog maintainer', 14002),\n"
						+ "				(14, 'Catalog maintainer', 14003),\n"
						+ "				(14, 'Manager', 14004),\n"
						+ "				(14, 'Accounter', 14004),\n"						
						+ "				(14, 'Salesclerk', 14004),\n"
						+ "				(14, 'Shift manager', 14004),\n"
						+ "				(14, 'Checker', 14004),\n"
						+ "				(14, 'Workshop 1 worker', 14004),\n"
						+ "				(14, 'Workshop 2 worker', 14004),\n"
						+ "				(14, 'Storekeeper', 14004),\n"						
						+ "				(14, 'Community manager', 14004),\n"
						+ "				(14, 'Procurement worker', 14004),\n"
						+ "				(14, 'Auditor', 14004);",
						
						
						
						"/* provider lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (15001, 'soberano.stage.starting', 15),\n"
						+ "		(15002, 'Enabled', 15),\n"
						+ "		(15003, 'Disabled', 15);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (15001, 'Add', 15, 15001, 15002, 'false'),\n"
						+ "		(15002, 'Apply', 15, 15002, 15002, 'false'),\n"
						+ "		(15003, 'Disable', 15, 15002, 15003, 'false'),\n"
						+ "		(15004, 'Check', 15, 15002, 15002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (15, 'Procurement worker', 15001),\n"
						+ "				(15, 'Procurement worker', 15002),\n"
						+ "				(15, 'Procurement worker', 15003),\n"
						+ "				(15, 'Manager', 15004),\n"
						+ "				(15, 'Accounter', 15004),\n"
						+ "				(15, 'Storekeeper', 15004),\n"
						+ "				(15, 'Auditor', 15004);",
						
						
						
						"/* product lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (13001, 'soberano.stage.starting', 13),\n"
						+ "		(13002, 'Enabled', 13),\n"
						+ "		(13003, 'Disabled', 13);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (13001, 'Add', 13, 13001, 13002, 'false'),\n"
						+ "		(13002, 'Apply', 13, 13002, 13002, 'false'),\n"
						+ "		(13003, 'Disable', 13, 13002, 13003, 'false'),\n"
						+ "		(13004, 'Check', 13, 13002, 13002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (13, 'Catalog maintainer', 13001),\n"
						+ "				(13, 'Catalog maintainer', 13002),\n"
						+ "				(13, 'Catalog maintainer', 13003),\n"
						+ "				(13, 'Manager', 13004),\n"
						+ "				(13, 'Accounter', 13004),\n"						
						+ "				(13, 'Salesclerk', 13004),\n"
						+ "				(13, 'Shift manager', 13004),\n"
						+ "				(13, 'Checker', 13004),\n"
						+ "				(13, 'Workshop 1 worker', 13004),\n"
						+ "				(13, 'Workshop 2 worker', 13004),\n"
						+ "				(13, 'Storekeeper', 13004),\n"						
						+ "				(13, 'Community manager', 13004),\n"
						+ "				(13, 'Procurement worker', 13004),\n"
						+ "				(13, 'Technologist', 13004),\n"
						+ "				(13, 'Auditor', 13004);",
						
						
						
						"/* warehouse lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (17001, 'soberano.stage.starting', 17),\n"
						+ "		(17002, 'Enabled', 17),\n"
						+ "		(17003, 'Disabled', 17);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (17001, 'Add', 17, 17001, 17002, 'false'),\n"
						+ "		(17002, 'Apply', 17, 17002, 17002, 'false'),\n"
						+ "		(17003, 'Disable', 17, 17002, 17003, 'false'),\n"
						+ "		(17004, 'Check', 17, 17002, 17002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (17, 'Manager', 17001),\n"
						+ "				(17, 'Manager', 17002),\n"
						+ "				(17, 'Manager', 17003),\n"
						+ "				(17, 'Accounter', 17004),\n"
						+ "				(17, 'Shift manager', 17004),\n"						
						+ "				(17, 'Storekeeper', 17004),\n"
						+ "				(17, 'Technologist', 17004),\n"
						+ "				(17, 'Auditor', 17004);",
						
						
						
						"/* cost center lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (8001, 'soberano.stage.starting', 8),\n"
						+ "		(8002, 'Enabled', 8),\n"
						+ "		(8003, 'Disabled', 8);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (8001, 'Add', 8, 8001, 8002, 'false'),\n"
						+ "		(8002, 'Apply', 8, 8002, 8002, 'false'),\n"
						+ "		(8003, 'Disable', 8, 8002, 8003, 'false'),\n"
						+ "		(8004, 'Check', 8, 8002, 8002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (8, 'Manager', 8001),\n"
						+ "				(8, 'Manager', 8002),\n"
						+ "				(8, 'Manager', 8003),\n"
						+ "				(8, 'Accounter', 8004),\n"
						+ "				(8, 'Shift manager', 8004),\n"	
						+ "				(8, 'Technologist', 8004),\n"
						+ "				(8, 'Auditor', 8004);",
						
						
						
						"/* process lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (12001, 'soberano.stage.starting', 12),\n"
						+ "		(12002, 'Enabled', 12),\n"
						+ "		(12003, 'Disabled', 12);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (12001, 'Add', 12, 12001, 12002, 'false'),\n"
						+ "		(12002, 'Apply', 12, 12002, 12002, 'false'),\n"
						+ "		(12003, 'Disable', 12, 12002, 12003, 'false'),\n"
						+ "		(12004, 'Check', 12, 12002, 12002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (12, 'Technologist', 12001),\n"
						+ "				(12, 'Technologist', 12002),\n"
						+ "				(12, 'Technologist', 12003),\n"
						+ "				(12, 'Accounter', 12004),\n"
						+ "				(12, 'Shift manager', 12004),\n"	
						+ "				(12, 'Manager', 12004),\n"
						+ "				(12, 'Workshop 1 worker', 12004),\n"
						+ "				(12, 'Workshop 2 worker', 12004),\n"
						+ "				(12, 'Storekeeper', 12004),\n"
						+ "				(12, 'Auditor', 12004);",
						
						
						
						"/* acquirable material lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (7001, 'soberano.stage.starting', 7),\n"
						+ "		(7002, 'Enabled', 7),\n"
						+ "		(7003, 'Disabled', 7);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (7001, 'Add', 7, 7001, 7002, 'false'),\n"
						+ "		(7002, 'Apply', 7, 7002, 7002, 'false'),\n"
						+ "		(7003, 'Disable', 7, 7002, 7003, 'false'),\n"
						+ "		(7004, 'Check', 7, 7002, 7002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (7, 'Technologist', 7001),\n"
						+ "				(7, 'Technologist', 7002),\n"
						+ "				(7, 'Technologist', 7003),\n"
						+ "				(7, 'Accounter', 7004),\n"
						+ "				(7, 'Shift manager', 7004),\n"	
						+ "				(7, 'Manager', 7004),\n"
						+ "				(7, 'Workshop 1 worker', 7004),\n"
						+ "				(7, 'Workshop 2 worker', 7004),\n"
						+ "				(7, 'Storekeeper', 7004),\n"
						+ "				(7, 'Auditor', 7004);",
						
						
						
						"/* currency lifecycle */\n"
						+ "\n"
						+ "--stage filters\n"
						+ "INSERT INTO \"metamodel\".\"StageFilter\" (\"StageFilterHasStageFilterId\",\n"
						+ "					\"This_filters_by_FilterExpression\", \n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\")\n"
						+ "	VALUES (9001, 'soberano.stage.starting', 9),\n"
						+ "		(9002, 'Enabled', 9),\n"
						+ "		(9003, 'Disabled', 9);\n"
						+ "			\n"
						+ "--decisions\n"
						+ "INSERT INTO \"metamodel\".\"Decision\" (\"DecisionHasDecisionId\",\n"
						+ "					\"This_has_Name\",\n"
						+ "					\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "					\"This_causes_advance_from_StageFilter_with_StageFilterHasStageFi\",\n"
						+ "					\"This_causes_advance_to_StageFilter_with_StageFilterHasStageFilt\",\n"
						+ "					\"Decision_is_contextual\")\n"
						+ "	VALUES (9001, 'Add', 9, 9001, 9002, 'false'),\n"
						+ "		(9002, 'Apply', 9, 9002, 9002, 'false'),\n"
						+ "		(9003, 'Disable', 9, 9002, 9003, 'false'),\n"
						+ "		(9004, 'Check', 9, 9002, 9002, 'false');\n"
						+ "			\n"
						+ "--responsability filters\n"
						+ "INSERT INTO \"metamodel\".\"ResponsibilityFilter\" (\"This_belongs_to_LifeCycle_with_LifeCycleHasLifeCycleId\",\n"
						+ "							\"This_filters_by_FilterExpression\",\n"
						+ "							\"This_filters_by_Decision_with_DecisionHasDecisionId\")\n"
						+ "			VALUES (9, 'Accounter', 9001),\n"
						+ "				(9, 'Accounter', 9002),\n"
						+ "				(9, 'Accounter', 9003),\n"
						+ "				(9, 'Manager', 9004),\n"
						+ "				(9, 'Shift manager', 9004),\n"	
						+ "				(9, 'Salesclerk', 9004),\n"
						+ "				(9, 'Checker', 9004),\n"
						+ "				(9, 'Auditor', 9004);",
						
				
												
						"/* cash register lifecycle. no lifecycle needed. internal-use-only object. nobody makes decisions on it. */\n",
						
						
						
						"/* unit lifecycle. for the time being, measurement units are unchangeable. */\n",
						
						
						
						////////////////////
						// business facts //
						////////////////////
						
						//singletons
						
						"--insert the only one activity object instance\n"
						+ "--a trigger implementing RULE_EXISTENCE_1 is responsible for inserting the corresponding entity type instance\n"
						+ "INSERT INTO soberano.\"Activity\"(\n"
						+ "	\"ActivityHasActivityId\", \"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "	VALUES (1, 1);",
						
						
						
						"--insert the only one configuration object instance\n"
						+ "--a trigger implementing RULE_EXISTENCE_2 is responsible for inserting the corresponding entity type instance\n"
						+ "INSERT INTO soberano.\"Configuration\"(\n"
						+ "	\"ConfigurationHasConfigurationId\", \"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "	VALUES (1, 2);",
						
						
						
						"--insert the only one catalog object instance\n"
						+ "--a trigger implementing RULE_EXISTENCE_3 is responsible for inserting the corresponding entity type instance\n"
						+ "INSERT INTO soberano.\"Catalog\"(\n"
						+ "	\"CatalogHasCatalogId\", \"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "	VALUES (1, 3);",
						
						
						
						"--insert the only one cash register object instance\n"
						+ "--a trigger implementing RULE_EXISTENCE_4 is responsible for inserting the corresponding entity type instance\n"
						+ "INSERT INTO soberano.\"CashRegister\"(\n"
						+ "	\"CashRegisterHasCashRegisterId\", \"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "	VALUES (1, 4);",
						
						
						
						"INSERT INTO soberano.\"PaymentProcessor\"(\n"
						+ "	\"PaymentProcessorHasPaymentProcessorId\", \"This_has_Name\")\n"
						+ "	VALUES (1, 'Opennode'),\n"
						+ "			(2, 'Tropipay');",
						
						
						
						//measurement units
						"INSERT INTO soberano.\"Magnitude\"(\n"
						+ "	\"MagnitudeHasMagnitudeId\")\n"
						+ "	VALUES (1), (2), (3);",
						
						
						
						"INSERT INTO soberano.\"MagnitudeHasNameInLanguage\"(\n"
						+ "	\"Language\", \"Name\", \"MagnitudeHasMagnitudeId\")\n"
						+ "	VALUES ('es', 'cantidad discreta', '1'),\n"
						+ "			('es', 'peso', '2'),\n"
						+ "			('es', 'volumen', '3'),\n"
						+ "			('en', 'discrete quantity', '1'),\n"
						+ "			('en', 'weight', '2'),\n"
						+ "			('en', 'volume', '3');",
						
						
						
						"INSERT INTO metamodel.\"EntityTypeInstance\" (\"EntityTypeInstanceHasEntityTypeInstanceId\",\n"
						+ "																			\"This_is_created_at_Timestamp\", \n"
						+ "																			\"This_is_instance_of_EntityType_with_MeaningHasMeaningId\", \n"
						+ "																			\"This_is_owned_by_Authority_with_AuthorityHasAuthorityId\", \n"
						+ "																			\"This_is_in_Stage_with_StageHasStageId\", \n"
						+ "																			\"This_is_created_by_User_with_UserHasUserId\")\n"
						+ "									VALUES (5, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(6, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(7, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(8, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(9, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(10, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(11, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1),\n"
						+ "											(12, now(), '_8B5F06D3-F307-49D7-99F1-57541D8A2B35', 1, 2, 1);",
						
						
						
						"INSERT INTO soberano.\"Unit\"(\n"
						+ "	\"UnitHasUnitId\", \"This_is_identified_by_EntityTypeInstance_id\", \"This_is_for_Magnitude_with_MagnitudeHasMagnitudeId\")\n"
						+ "	VALUES (1, 5, 1),\n"
						+ "			(2, 6, 2),\n"
						+ "			(3, 7, 2),\n"
						+ "			(4, 8, 2),\n"
						+ "			(5, 9, 2),\n"
						+ "			(6, 10, 2),\n"
						+ "			(7, 11, 3),\n"
						+ "			(8, 12, 3);",
						
						
						
						"INSERT INTO soberano.\"UnitHasAcronymInLanguage\"(\n"
						+ "	\"Language\", \"Acronym\", \"UnitHasUnitId\")\n"
						+ "	VALUES ('es', 'U', 1),\n"
						+ "			('es', 'kg', 2),\n"
						+ "			('es', 'g', 3),\n"
						+ "			('es', 'mg', 4),\n"
						+ "			('es', 'lb', 5),\n"
						+ "			('es', 'oz', 6),\n"
						+ "			('es', 'l', 7),\n"
						+ "			('es', 'ml', 8),\n"
						+ "			('en', 'pcs', 1),\n"
						+ "			('en', 'kg', 2),\n"
						+ "			('en', 'g', 3),\n"
						+ "			('en', 'mg', 4),\n"
						+ "			('en', 'lb', 5),\n"
						+ "			('en', 'oz', 6),\n"
						+ "			('en', 'l', 7),\n"
						+ "			('en', 'ml', 8);",
						
						
						
						"INSERT INTO soberano.\"UnitHasNameInLanguage\"(\n"
						+ "	\"Language\", \"Name\", \"UnitHasUnitId\")\n"
						+ "	VALUES ('es', 'unidad', 1),\n"
						+ "			('es', 'kilogramo', 2),\n"
						+ "			('es', 'gramo', 3),\n"
						+ "			('es', 'miligramo', 4),\n"
						+ "			('es', 'libra', 5),\n"
						+ "			('es', 'onza', 6),\n"
						+ "			('es', 'litro', 7),\n"
						+ "			('es', 'milititro', 8),\n"
						+ "			('en', 'piece', 1),\n"
						+ "			('en', 'kilogram', 2),\n"
						+ "			('en', 'gram', 3),\n"
						+ "			('en', 'milligram', 4),\n"
						+ "			('en', 'pound', 5),\n"
						+ "			('en', 'ounce', 6),\n"
						+ "			('en', 'liter', 7),\n"
						+ "			('en', 'milliliter', 8);",
						
						
						
						"INSERT INTO soberano.\"UnitIsConvertedToUnitMultiplyingByFactor\"(\n"
						+ "	\"Factor\", \"Unit1_UnitHasUnitId\", \"Unit2_UnitHasUnitId\")\n"
						+ "	VALUES (1, 1, 1), /*pcs to pcs*/\n"
						+ "			(1, 2, 2), /*kg to kg*/\n"
						+ "			(1000, 2, 3), /*kg to g*/\n"
						+ "			(1000000, 2, 4), /*kg to mg*/\n"
						+ "			(2.2046226218, 2, 5), /*kg to lb*/\n"
						+ "			(35.2739619496, 2, 6), /*kg to oz*/\n"
						+ "			(1, 7, 7), /*l to l*/\n"
						+ "			(1000, 7, 8); /*l to ml*/",
						
						
						
						//////////////////////
						// business queries //
						//////////////////////
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Worker_create\"(\n"
						+ "	firstname character varying,\n"
						+ "	lastname character varying,\n"
						+ "	emailaddress character varying,\n"
						+ "	mobilephonenumber character varying,\n"
						+ "	address character varying,\n"
						+ "	postalcode character varying,\n"
						+ "	town character varying,\n"
						+ "	municipalityid integer,\n"
						+ "	city character varying,\n"
						+ "	latitude double precision,\n"
						+ "	longitude double precision,\n"
						+ "	responsibilities integer[],\n"
						+ "	authorities integer[],\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		userId integer;\n"
						+ "		postalAddressId integer;\n"
						+ "		contactDataId integer;\n"
						+ "		workerId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		workerId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Worker', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			--create user. new user's loginname is its email address.\n"
						+ "			SELECT \"metamodel\".\"fn_User_insert\"(emailAddress, true) INTO userId;\n"
						+ "			\n"
						+ "			--assign responsibilities\n"
						+ "			PERFORM \"metamodel\".\"fn_User_assignToResponsibilities\"(userId, responsibilities, authorities);\n"
						+ "			\n"
						+ "			--create postal address\n"
						+ "			INSERT INTO soberano.\"PostalAddress\"(\"This_includes_Town\", \n"
						+ "												 \"This_includes_PostalCode\", \n"
						+ "												 \"This_includes_AddressString\", \n"
						+ "												 \"This_includes_Latitute\", \n"
						+ "												 \"This_includes_Longitude\", \n"
						+ "												 \"This_includes_City\", \n"
						+ "												 \"This_includes_Municipality_with_MunicipalityHasMunicipalityId\")\n"
						+ "				VALUES (town,\n"
						+ "					   postalCode,\n"
						+ "					   address,\n"
						+ "					   latitude,\n"
						+ "					   longitude,\n"
						+ "					   city,\n"
						+ "					   municipalityId) \n"
						+ "				RETURNING \"PostalAddressHasPostalAddressId\" INTO postalAddressId;\n"
						+ "				\n"
						+ "			--create contact data\n"
						+ "			INSERT INTO soberano.\"ContactData\"(\"This_includes_PhoneNumber\", \n"
						+ "											   \"This_includes_EmailAddress\", \n"
						+ "											   \"This_includes_PostalAddress_with_PostalAddressHasPostalAddressI\")\n"
						+ "				VALUES (mobilePhoneNumber,\n"
						+ "					   emailAddress,\n"
						+ "					   postalAddressId) \n"
						+ "				RETURNING \"ContactDataHasContactDataId\" INTO contactDataId;\n"
						+ "				\n"
						+ "			--create worker\n"
						+ "			INSERT INTO soberano.\"Worker\"(\"This_has_LastName\", \n"
						+ "										  \"This_has_FirstName\", \n"
						+ "										  \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "										  \"This_has_ContactData_with_ContactDataHasContactDataId\",\n"
						+ "										  \"This_has_LoginName\")\n"
						+ "				VALUES (lastName,\n"
						+ "					   firstName,\n"
						+ "					   entityTypeInstanceId,\n"
						+ "					   contactDataId,\n"
						+ "					   emailAddress) \n"
						+ "				RETURNING \"WorkerHasWorkerId\" INTO workerId;\n"
						+ "		END IF;\n"
						+ "		RETURN workerId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Worker_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" text) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		--in domainObjectName is returned the qualified name of the worker\n"
						+ "		RETURN QUERY SELECT \"WorkerHasWorkerId\", qualifiedName\n"
						+ "						FROM (SELECT DISTINCT \"WorkerHasWorkerId\", \n"
						+ "							  				(\"This_has_FirstName\" || ' ' || \"This_has_LastName\" || ' : ' || worker.\"This_has_LoginName\") qualifiedName\n"
						+ "						FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(6, 1, loginname) instance\n"
						+ "							INNER JOIN soberano.\"Worker\" worker\n"
						+ "								ON instance.\"InstanceId\" = worker.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "							INNER JOIN metamodel.\"User\" u\n"
						+ "								ON u.\"This_has_LoginName\" = worker.\"This_has_LoginName\") sq\n"
						+ "						ORDER BY qualifiedName;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Worker_modify\"(\n"
						+ "	workerid integer,\n"
						+ "	firstname character varying,\n"
						+ "	lastname character varying,\n"
						+ "	emailaddress character varying,\n"
						+ "	mobilephonenumber character varying,\n"
						+ "	address character varying,\n"
						+ "	postalcode character varying,\n"
						+ "	town character varying,\n"
						+ "	municipalityid integer,\n"
						+ "	city character varying,\n"
						+ "	latitude double precision,\n"
						+ "	longitude double precision,\n"
						+ "	responsibilities integer[],\n"
						+ "	authorities integer[],\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		userId integer;\n"
						+ "		postalAddressId integer;\n"
						+ "		contactDataId integer;\n"
						+ "		decisionId integer;\n"
						+ "		userName character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT objectdata.*,\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM (SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "						\"UserHasUserId\",\n"
						+ "						\"This_includes_PostalAddress_with_PostalAddressHasPostalAddressI\",\n"
						+ "						\"ContactDataHasContactDataId\",\n"
						+ "				  		objecttable.\"This_has_LoginName\" userName\n"
						+ "					FROM soberano.\"Worker\" objecttable\n"
						+ "						INNER JOIN metamodel.\"User\" userdata\n"
						+ "							ON objecttable.\"This_has_LoginName\" = userdata.\"This_has_LoginName\"\n"
						+ "						INNER JOIN soberano.\"ContactData\" contactdata\n"
						+ "							ON objecttable.\"This_has_ContactData_with_ContactDataHasContactDataId\" = contactdata.\"ContactDataHasContactDataId\"\n"
						+ "					WHERE \"WorkerHasWorkerId\" = workerid) objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				userId,\n"
						+ "				postalAddressId,\n"
						+ "				contactDataId,\n"
						+ "				userName,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND userId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the worker\n"
						+ "			UPDATE soberano.\"Worker\" \n"
						+ "				SET \"This_has_LastName\" = lastname, \n"
						+ "					\"This_has_FirstName\" = firstname\n"
						+ "				WHERE \"WorkerHasWorkerId\" = workerid;\n"
						+ "		\n"
						+ "			--assign responsibilities\n"
						+ "			PERFORM \"metamodel\".\"fn_User_assignToResponsibilities\"(userId, responsibilities, authorities);\n"
						+ "			\n"
						+ "			--update postal address\n"
						+ "			UPDATE soberano.\"PostalAddress\" SET \"This_includes_Town\" = town, \n"
						+ "												 \"This_includes_PostalCode\" = postalcode, \n"
						+ "												 \"This_includes_AddressString\" = address, \n"
						+ "												 \"This_includes_Latitute\" = latitude, \n"
						+ "												 \"This_includes_Longitude\" = longitude, \n"
						+ "												 \"This_includes_City\" = city, \n"
						+ "												 \"This_includes_Municipality_with_MunicipalityHasMunicipalityId\" = municipalityid \n"
						+ "				WHERE \"PostalAddressHasPostalAddressId\" = postalAddressId;\n"
						+ "				\n"
						+ "			--update contact data\n"
						+ "			UPDATE soberano.\"ContactData\" SET \"This_includes_PhoneNumber\" = mobilePhoneNumber, \n"
						+ "											   \"This_includes_EmailAddress\" = emailAddress, \n"
						+ "											   \"This_includes_PostalAddress_with_PostalAddressHasPostalAddressI\" = postalAddressId\n"
						+ "				WHERE \"ContactDataHasContactDataId\" = contactDataId;\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(WORKER)# ' || userName || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Worker_disable\"(\n"
						+ "	workerid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		userId integer;\n"
						+ "		decisionId integer;\n"
						+ "		userName character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT objectdata.*,\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM (SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "						\"UserHasUserId\",\n"
						+ "						objecttable.\"This_has_LoginName\" userName\n"
						+ "					FROM soberano.\"Worker\" objecttable\n"
						+ "						INNER JOIN metamodel.\"User\" userdata\n"
						+ "							ON objecttable.\"This_has_LoginName\" = userdata.\"This_has_LoginName\"\n"
						+ "					WHERE \"WorkerHasWorkerId\" = workerid) objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				userId,\n"
						+ "				userName,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND userId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(WORKER)# ' || userName || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Country_getAll\"()\n"
						+ "	RETURNS TABLE(\"domainObjectStringId\" character(2), \"domainObjectName\" character varying) AS\n"
						+ "	$BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT \"CountryHasCountryCode\", \"This_has_Name\" FROM soberano.\"Country\" ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;\n"
						+ "	$BODY$\n"
						+ "	LANGUAGE plpgsql VOLATILE COST 100 ROWS 300;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Province_getAll\"(countrycode character)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT \"ProvinceHasProvinceId\", \"This_has_Name\" \n"
						+ "			FROM soberano.\"Province\" \n"
						+ "			WHERE \"This_belongs_to_Country_with_CountryHasCountryCode\" = countryCode\n"
						+ "			ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Municipality_getAll\"(provinceId integer)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 200\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT \"MunicipalityHasMunicipalityId\", \"This_has_Name\" \n"
						+ "			FROM soberano.\"Municipality\" \n"
						+ "			WHERE \"This_belongs_to_Province_with_ProvinceHasProvinceId\" = provinceId\n"
						+ "			ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Worker_get\"(workerid integer,\n"
						+ "													loginname character varying)\n"
						+ "    RETURNS TABLE(\"workerId\" integer, \n"
						+ "				  \"entityTypeInstanceId\" integer, \n"
						+ "				  \"loginName\" character varying, \n"
						+ "				  \"firstName\" character varying, \n"
						+ "				  \"lastName\" character varying, \n"
						+ "				  password character varying, \n"
						+ "				  \"mobilePhoneNumber\" character varying, \n"
						+ "				  \"countryCode\" character, \n"
						+ "				  address character varying, \n"
						+ "				  \"postalCode\" character varying, \n"
						+ "				  town character varying, \n"
						+ "				  \"municipalityId\" integer, \n"
						+ "				  city character varying, \n"
						+ "				  \"provinceId\" integer, \n"
						+ "				  latitude double precision, \n"
						+ "				  longitude double precision,\n"
						+ "				  \"authorityId\" integer,\n"
						+ "				  \"authorityName\" character varying,\n"
						+ "				  \"responsibilityId\" integer,\n"
						+ "				  \"responsibilityName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"WorkerHasWorkerId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										workeruser.\"This_has_LoginName\",\n"
						+ "										\"This_has_FirstName\",\n"
						+ "										\"This_has_LastName\",\n"
						+ "										CAST('' AS character varying),\n"
						+ "										\"This_includes_PhoneNumber\",\n"
						+ "										\"This_belongs_to_Country_with_CountryHasCountryCode\",\n"
						+ "										\"This_includes_AddressString\",\n"
						+ "										\"This_includes_PostalCode\",\n"
						+ "										\"This_includes_Town\",\n"
						+ "										\"This_includes_Municipality_with_MunicipalityHasMunicipalityId\",\n"
						+ "										\"This_includes_City\",\n"
						+ "										\"This_belongs_to_Province_with_ProvinceHasProvinceId\",\n"
						+ "										\"This_includes_Latitute\",\n"
						+ "										\"This_includes_Longitude\",\n"
						+ "									 	1,\n"
						+ "										CAST('soberano.authority.top' AS character varying),\n"
						+ "										responsibility.\"ResponsibilityHasResponsibilityId\",\n"
						+ "										responsibility.\"This_has_Name\"\n"
						+ "								FROM soberano.\"Worker\" worker\n"
						+ "									INNER JOIN soberano.\"ContactData\" contact\n"
						+ "										ON worker.\"This_has_ContactData_with_ContactDataHasContactDataId\" = contact.\"ContactDataHasContactDataId\"\n"
						+ "									INNER JOIN soberano.\"PostalAddress\" address\n"
						+ "										ON contact.\"This_includes_PostalAddress_with_PostalAddressHasPostalAddressI\" = address.\"PostalAddressHasPostalAddressId\"\n"
						+ "									INNER JOIN soberano.\"Municipality\" municipality\n"
						+ "										ON address.\"This_includes_Municipality_with_MunicipalityHasMunicipalityId\" = municipality.\"MunicipalityHasMunicipalityId\"\n"
						+ "									INNER JOIN soberano.\"Province\" province\n"
						+ "										ON municipality.\"This_belongs_to_Province_with_ProvinceHasProvinceId\" = province.\"ProvinceHasProvinceId\"\n"
						+ "									INNER JOIN metamodel.\"User\" workeruser\n"
						+ "										ON worker.\"This_has_LoginName\" = workeruser.\"This_has_LoginName\"\n"
						+ "									INNER JOIN metamodel.\"UserIsAssignedToResponsibilityForAuthority\" userassignment\n"
						+ "										ON userassignment.\"UserHasUserId\" = workeruser.\"UserHasUserId\"\n"
						+ "									INNER JOIN metamodel.\"Responsibility\" responsibility\n"
						+ "										ON userassignment.\"ResponsibilityHasResponsibilityId\" = responsibility.\"ResponsibilityHasResponsibilityId\" \n"
						+ "								WHERE \"WorkerHasWorkerId\" = workerid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Counter_create\"(\n"
						+ "	counterCode character varying,\n"
						+ "	numberOfReceivers integer,\n"
						+ "	isSurcharged boolean,\n"
						+ "	isEnabled boolean,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		counterId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		counterId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Counter', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"Counter\"(\"This_has_Counter_code\", \n"
						+ "										   \"This_has_space_for_NumberOfReceivers\", \n"
						+ "										   \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "										   \"Counter_is_surcharged\", \n"
						+ "										   \"Counter_is_enabled\")\n"
						+ "				VALUES (counterCode,\n"
						+ "					   numberOfReceivers,\n"
						+ "					   entityTypeInstanceId,\n"
						+ "					   isSurcharged,\n"
						+ "					   isEnabled)\n"
						+ "				RETURNING \"CounterHasCounterId\" INTO counterId;\n"
						+ "		END IF;\n"
						+ "		RETURN counterId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Counter_disable\"(\n"
						+ "	counterid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				\"This_has_Counter_code\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Counter\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CounterHasCounterId\" = counterid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(COUNTER)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Counter_get\"(\n"
						+ "	counterid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"counterId\" integer, \n"
						+ "				  \"entityTypeInstanceId\" integer, \n"
						+ "				  \"counterCode\" character varying, \n"
						+ "				  \"numberOfReceivers\" integer,\n"
						+ "				  \"isSurcharged\" boolean,\n"
						+ "				  \"isEnabled\" boolean) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"CounterHasCounterId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Counter_code\",\n"
						+ "										\"This_has_space_for_NumberOfReceivers\",\n"
						+ "										\"Counter_is_surcharged\",\n"
						+ "										\"Counter_is_enabled\"\n"
						+ "								FROM soberano.\"Counter\" counter\n"
						+ "								WHERE \"CounterHasCounterId\" = counterid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Counter_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"CounterHasCounterId\", \"This_has_Counter_code\" \n"
						+ "						FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(2, 1, loginname) instance\n"
						+ "							INNER JOIN soberano.\"Counter\" counter\n"
						+ "								ON instance.\"InstanceId\" = counter.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "						ORDER BY \"This_has_Counter_code\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Counter_modify\"(\n"
						+ "	counterid integer,\n"
						+ "	countercode character varying,\n"
						+ "	numberofreceivers integer,\n"
						+ "	issurcharged boolean,\n"
						+ "	isenabled boolean,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				\"This_has_Counter_code\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Counter\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CounterHasCounterId\" = counterid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the counter\n"
						+ "			UPDATE soberano.\"Counter\"\n"
						+ "				SET \"This_has_space_for_NumberOfReceivers\" = numberofreceivers, \n"
						+ "					\"This_has_Counter_code\" = countercode,\n"
						+ "					\"Counter_is_surcharged\" = issurcharged, \n"
						+ "					\"Counter_is_enabled\" = isenabled\n"
						+ "				WHERE \"CounterHasCounterId\"= counterid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(COUNTER)# ' || countercode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_ProductCategory_create\"(\n"
						+ "	categoryname character varying,\n"
						+ "	categoryposition integer,\n"
						+ "	isenabled boolean,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		categoryId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		categoryId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('ProductCategory', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"ProductCategory\"(\"This_has_Name\",\n"
						+ "												   \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "												   \"This_is_shown_in_Position\", \n"
						+ "												   \"ProductCategory_is_enabled\")\n"
						+ "				VALUES (categoryname,\n"
						+ "					   entityTypeInstanceId,\n"
						+ "					   categoryposition,\n"
						+ "					   isenabled)\n"
						+ "				RETURNING \"ProductCategoryHasProductCategoryId\" INTO categoryId;\n"
						+ "		END IF;\n"
						+ "		RETURN categoryId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_ProductCategory_disable\"(\n"
						+ "	categoryid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"ProductCategory\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProductCategoryHasProductCategoryId\" = categoryid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(PRODUCT_CATEGORY)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_ProductCategory_get\"(\n"
						+ "	categoryid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"categoryId\" integer, \"entityTypeInstanceId\" integer, \"categoryName\" character varying, \"categoryPosition\" integer, \"isEnabled\" boolean) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"ProductCategoryHasProductCategoryId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Name\",\n"
						+ "										\"This_is_shown_in_Position\",\n"
						+ "										\"ProductCategory_is_enabled\"\n"
						+ "								FROM soberano.\"ProductCategory\"\n"
						+ "								WHERE \"ProductCategoryHasProductCategoryId\" = categoryid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_ProductCategory_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 50\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"ProductCategoryHasProductCategoryId\", \"This_has_Name\" \n"
						+ "						FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(14, 1, loginname) instance\n"
						+ "							INNER JOIN soberano.\"ProductCategory\" category\n"
						+ "								ON instance.\"InstanceId\" = category.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "						ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_ProductCategory_modify\"(\n"
						+ "	categoryid integer,\n"
						+ "	categoryname character varying,\n"
						+ "	categoryposition integer,\n"
						+ "	isenabled boolean,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"ProductCategory\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProductCategoryHasProductCategoryId\" = categoryid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"ProductCategory\"\n"
						+ "				SET \"This_has_Name\" = categoryname, \n"
						+ "				\"This_is_shown_in_Position\" = categoryposition,\n"
						+ "				\"ProductCategory_is_enabled\" = isenabled\n"
						+ "				WHERE \"ProductCategoryHasProductCategoryId\" = categoryid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(PRODUCT_CATEGORY)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Provider_modify\"(\n"
						+ "	providerid integer,\n"
						+ "	providername character varying,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Provider\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProviderHasProviderId\" = providerid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"Provider\"\n"
						+ "				SET \"This_has_Name\" = providername\n"
						+ "				WHERE \"ProviderHasProviderId\" = providerid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(PROVIDER)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Provider_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 300\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"ProviderHasProviderId\", \"This_has_Name\" \n"
						+ "						FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(15, 1, loginname) instance\n"
						+ "							INNER JOIN soberano.\"Provider\" provider\n"
						+ "								ON instance.\"InstanceId\" = provider.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "						ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Provider_get\"(\n"
						+ "	providerid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"providerId\" integer, \"entityTypeInstanceId\" integer, \"providerName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"ProviderHasProviderId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Name\"\n"
						+ "								FROM soberano.\"Provider\"\n"
						+ "								WHERE \"ProviderHasProviderId\" = providerid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Provider_disable\"(\n"
						+ "	providerid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Provider\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProviderHasProviderId\" = providerid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(PROVIDER)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Provider_create\"(\n"
						+ "	providername character varying,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		providerId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		providerId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Provider', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"Provider\"(\"This_has_Name\",\n"
						+ "												   \"This_is_identified_by_EntityTypeInstance_id\")\n"
						+ "				VALUES (providername,\n"
						+ "					   entityTypeInstanceId)\n"
						+ "				RETURNING \"ProviderHasProviderId\" INTO providerId;\n"
						+ "		END IF;\n"
						+ "		RETURN providerId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Unit_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 50\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT acronym.\"UnitHasUnitId\",\n"
						+ "									CAST(acronym.\"Language\" || ' : ' || \"Acronym\" || ' : ' || \"Name\" AS character varying) qn\n"
						+ "						FROM soberano.\"UnitHasAcronymInLanguage\" acronym\n"
						+ "							INNER JOIN soberano.\"UnitHasNameInLanguage\" unitname\n"
						+ "								ON acronym.\"UnitHasUnitId\" = unitname.\"UnitHasUnitId\"\n"
						+ "									AND acronym.\"Language\" = unitname.\"Language\"\n"
						+ "						ORDER BY acronym.\"UnitHasUnitId\", qn;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_create\"(\n"
						+ "	warehousename character varying,\n"
						+ "	warehousecode character varying,\n"
						+ "	isprocurementwarehouse boolean,\n"
						+ "	issaleswarehouse boolean,\n"
						+ "	entryprocesses integer[],\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		warehouseId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		warehouseId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Warehouse', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			PERFORM soberano.\"fn_Warehouse_RULE_CONSTRAINTS_1_AND_2\"(isprocurementwarehouse, issaleswarehouse);\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"Warehouse\"(\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "											 \"This_has_Name\", \n"
						+ "											 \"This_is_identified_by_Code\", \n"
						+ "											 \"Warehouse_is_procurement_warehouse\", \n"
						+ "											 \"Warehouse_is_sales_warehouse\")\n"
						+ "				VALUES (entityTypeInstanceId,\n"
						+ "					   warehousename,\n"
						+ "					   warehousecode,\n"
						+ "					   isprocurementwarehouse,\n"
						+ "					   issaleswarehouse)\n"
						+ "				RETURNING \"WarehouseHasWarehouseId\" INTO warehouseId;\n"
						+ "				\n"
						+ "			--delete current warehouse's entry processes\n"
						+ "			DELETE FROM \"soberano\".\"ProcessIsAnEntryProcessOfWarehouse\" \n"
						+ "				WHERE \"WarehouseHasWarehouseId\" = warehouseId;\n"
						+ "	\n"
						+ "			--update warehouse's entry processes\n"
						+ "			IF array_lower(entryprocesses, 1) IS NOT NULL AND array_upper(entryprocesses, 1) IS NOT NULL THEN\n"
						+ "			\n"
						+ "				FOR i IN array_lower(entryprocesses, 1) .. array_upper(entryprocesses, 1) LOOP\n"
						+ "					INSERT INTO soberano.\"ProcessIsAnEntryProcessOfWarehouse\"(\"ProcessHasProcessId\",\n"
						+ "																			  \"WarehouseHasWarehouseId\")\n"
						+ "						VALUES (entryprocesses[i], \n"
						+ "								warehouseId);\n"
						+ "				END LOOP;\n"
						+ "			\n"
						+ "			END IF;				\n"
						+ "		END IF;\n"
						+ "		RETURN warehouseId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" text) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT *\n"
						+ "						FROM (SELECT DISTINCT \"WarehouseHasWarehouseId\", \n"
						+ "									\"This_has_Name\" || ' : ' || \"This_is_identified_by_Code\" \"domainObjectName\"\n"
						+ "									FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(17, 1, loginname) instance\n"
						+ "										INNER JOIN soberano.\"Warehouse\" warehouse\n"
						+ "											ON instance.\"InstanceId\" = warehouse.\"This_is_identified_by_EntityTypeInstance_id\") sq\n"
						+ "						ORDER BY \"domainObjectName\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_disable\"(\n"
						+ "	warehouseid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Warehouse\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"WarehouseHasWarehouseId\" = warehouseid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(WAREHOUSE)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_get\"(\n"
						+ "	warehouseid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"warehouseId\" integer, \"entityTypeInstanceId\" integer, \"warehouseName\" character varying, \"warehouseCode\" character varying, \"isProcurementWarehouse\" boolean, \"isSalesWarehouse\" boolean, \"processId\" integer, \"processName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT warehouse.\"WarehouseHasWarehouseId\",\n"
						+ "										warehouse.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										warehouse.\"This_has_Name\",\n"
						+ "										\"This_is_identified_by_Code\",\n"
						+ "										\"Warehouse_is_procurement_warehouse\",\n"
						+ "										\"Warehouse_is_sales_warehouse\",\n"
						+ "										entryprocess.\"ProcessHasProcessId\",\n"
						+ "										entryprocess.\"This_has_Name\"\n"
						+ "								FROM soberano.\"Warehouse\" warehouse\n"
						+ "									LEFT JOIN soberano.\"ProcessIsAnEntryProcessOfWarehouse\" epw\n"
						+ "										ON epw.\"WarehouseHasWarehouseId\" = warehouse.\"WarehouseHasWarehouseId\"\n"
						+ "									LEFT JOIN soberano.\"Process\" entryprocess\n"
						+ "										ON entryprocess.\"ProcessHasProcessId\" = epw.\"ProcessHasProcessId\"\n"
						+ "								WHERE warehouse.\"WarehouseHasWarehouseId\" = warehouseid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(warehouse.\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Warehouse_modify\"(\n"
						+ "	warehouseid integer,\n"
						+ "	warehousename character varying,\n"
						+ "	warehousecode character varying,\n"
						+ "	isprocurementwarehouse boolean,\n"
						+ "	issaleswarehouse boolean,\n"
						+ "	entryprocesses integer[],\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Warehouse\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"WarehouseHasWarehouseId\" = warehouseid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			PERFORM soberano.\"fn_Warehouse_RULE_CONSTRAINTS_1_AND_2\"(isprocurementwarehouse, issaleswarehouse);\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"Warehouse\"\n"
						+ "				SET \"This_has_Name\" = warehousename, \n"
						+ "				\"This_is_identified_by_Code\" = warehousecode,\n"
						+ "				\"Warehouse_is_procurement_warehouse\" = isprocurementwarehouse,\n"
						+ "				\"Warehouse_is_sales_warehouse\" = issaleswarehouse\n"
						+ "				WHERE \"WarehouseHasWarehouseId\" = warehouseid;\n"
						+ "				\n"
						+ "			--delete current warehouse's entry processes\n"
						+ "			DELETE FROM \"soberano\".\"ProcessIsAnEntryProcessOfWarehouse\" \n"
						+ "				WHERE \"WarehouseHasWarehouseId\" = warehouseid;\n"
						+ "	\n"
						+ "			--update warehouse's entry processes\n"
						+ "			IF array_lower(entryprocesses, 1) IS NOT NULL AND array_upper(entryprocesses, 1) IS NOT NULL THEN\n"
						+ "			\n"
						+ "				FOR i IN array_lower(entryprocesses, 1) .. array_upper(entryprocesses, 1) LOOP\n"
						+ "					INSERT INTO soberano.\"ProcessIsAnEntryProcessOfWarehouse\"(\"ProcessHasProcessId\",\n"
						+ "																			  \"WarehouseHasWarehouseId\")\n"
						+ "						VALUES (entryprocesses[i], \n"
						+ "								warehouseId);\n"
						+ "				END LOOP;\n"
						+ "			\n"
						+ "			END IF;		\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(WAREHOUSE)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_CostCenter_create\"(\n"
						+ "	costcentername character varying,\n"
						+ "	inputwarehouse integer,\n"
						+ "	outputwarehouse integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		costcenterId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		costcenterId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('CostCenter', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"CostCenter\"(\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "											 \"This_has_Name\", \n"
						+ "											 \"This_consumes_materials_from_InputWarehouse_with_WarehouseHasWa\", \n"
						+ "											 \"This_increases_stock_in_OutputWarehouse_with_WarehouseHasWareho\")\n"
						+ "				VALUES (entityTypeInstanceId,\n"
						+ "					   costcentername,\n"
						+ "					   inputwarehouse,\n"
						+ "					   outputwarehouse)\n"
						+ "				RETURNING \"CostCenterHasCostCenterId\" INTO costcenterId;\n"
						+ "		END IF;\n"
						+ "		RETURN costcenterId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_CostCenter_disable\"(\n"
						+ "	costcenterid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"CostCenter\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CostCenterHasCostCenterId\" = costcenterid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(CostCenter)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_CostCenter_get\"(\n"
						+ "	costcenterid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"costCenterId\" integer, \"entityTypeInstanceId\" integer, \"costCenterName\" character varying, \"inputWarehouse\" integer, \"outputWarehouse\" integer) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"CostCenterHasCostCenterId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Name\",\n"
						+ "										\"This_consumes_materials_from_InputWarehouse_with_WarehouseHasWa\",\n"
						+ "										\"This_increases_stock_in_OutputWarehouse_with_WarehouseHasWareho\"\n"
						+ "								FROM soberano.\"CostCenter\"\n"
						+ "								WHERE \"CostCenterHasCostCenterId\" = costcenterid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_CostCenter_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT *\n"
						+ "						FROM (SELECT DISTINCT \"CostCenterHasCostCenterId\", \n"
						+ "									\"This_has_Name\"\n"
						+ "									FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(8, 1, loginname) instance\n"
						+ "										INNER JOIN soberano.\"CostCenter\" CostCenter\n"
						+ "											ON instance.\"InstanceId\" = CostCenter.\"This_is_identified_by_EntityTypeInstance_id\") sq\n"
						+ "						ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_CostCenter_modify\"(\n"
						+ "	costCenterid integer,\n"
						+ "	costCentername character varying,\n"
						+ "	inputWarehouse integer,\n"
						+ "	outputWarehouse integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"CostCenter\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CostCenterHasCostCenterId\" = costCenterid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"CostCenter\"\n"
						+ "				SET \"This_has_Name\" = costCentername, \n"
						+ "					\"This_consumes_materials_from_InputWarehouse_with_WarehouseHasWa\" = inputWarehouse,\n"
						+ "					\"This_increases_stock_in_OutputWarehouse_with_WarehouseHasWareho\" = outputWarehouse\n"
						+ "				WHERE \"CostCenterHasCostCenterId\" = costCenterid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(CostCenter)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Process_create\"(\n"
						+ "	processname character varying,\n"
						+ "	fixedcost numeric,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		processId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		processId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Process', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"Process\"(\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "											 \"This_has_Name\", \n"
						+ "											 \"This_has_FixedCost\")\n"
						+ "				VALUES (entityTypeInstanceId,\n"
						+ "					   processname,\n"
						+ "					   fixedcost)\n"
						+ "				RETURNING \"ProcessHasProcessId\" INTO processId;\n"
						+ "		END IF;\n"
						+ "		RETURN processId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Process_disable\"(\n"
						+ "	processid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Process\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProcessHasProcessId\" = processid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(Process)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Process_get\"(\n"
						+ "	processid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"processId\" integer, \"entityTypeInstanceId\" integer, \"processName\" character varying, \"fixedCost\" numeric) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"ProcessHasProcessId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Name\",\n"
						+ "										\"This_has_FixedCost\"\n"
						+ "								FROM soberano.\"Process\"\n"
						+ "								WHERE \"ProcessHasProcessId\" = processid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Process_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT *\n"
						+ "						FROM (SELECT DISTINCT \"ProcessHasProcessId\", \n"
						+ "									\"This_has_Name\"\n"
						+ "									FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(12, 1, loginname) instance\n"
						+ "										INNER JOIN soberano.\"Process\" process\n"
						+ "											ON instance.\"InstanceId\" = process.\"This_is_identified_by_EntityTypeInstance_id\") sq\n"
						+ "						ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Process_modify\"(\n"
						+ "	processid integer,\n"
						+ "	processname character varying,\n"
						+ "	fixedcost numeric,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Process\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"ProcessHasProcessId\" = processid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"Process\"\n"
						+ "				SET \"This_has_Name\" = processname, \n"
						+ "					\"This_has_FixedCost\" = fixedcost\n"
						+ "				WHERE \"ProcessHasProcessId\" = processid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(Process)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_AcquirableMaterial_create\"(\n"
						+ "	itemcode character varying,\n"
						+ "	itemname character varying,\n"
						+ "	inventorylevel numeric,\n"
						+ "	itemunit integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		itemId integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		itemId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('AcquirableMaterial', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"InventoryItem\"(\"InventoryItemHasInventoryItemCode\", \n"
						+ "												 \"This_has_Name\", \n"
						+ "												 \"This_has_MinimumInventoryLevel\", \n"
						+ "												 \"This_is_measured_in_Unit_with_UnitHasUnitId\")\n"
						+ "				VALUES (itemCode,\n"
						+ "					   itemName,\n"
						+ "					   inventoryLevel,\n"
						+ "					   itemUnit);\n"
						+ "		\n"
						+ "			INSERT INTO soberano.\"AcquirableMaterial\"(\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "											 \"InventoryItemHasInventoryItemCode\")\n"
						+ "				VALUES (entityTypeInstanceId,\n"
						+ "					   itemCode)\n"
						+ "				RETURNING \"AcquirableMaterialHasAcquirableMaterialId\" INTO itemId;\n"
						+ "		END IF;\n"
						+ "		RETURN itemId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_AcquirableMaterial_disable\"(\n"
						+ "	itemid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				ii.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"AcquirableMaterial\" objectdata\n"
						+ "				INNER JOIN soberano.\"InventoryItem\" ii\n"
						+ "					ON ii.\"InventoryItemHasInventoryItemCode\" = objectdata.\"InventoryItemHasInventoryItemCode\"\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"AcquirableMaterialHasAcquirableMaterialId\" = itemid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(AcquirableMaterial)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_AcquirableMaterial_get\"(\n"
						+ "	acquirablematerialid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"itemId\" integer, \"entityTypeInstanceId\" integer, \"itemCode\" character varying, \"itemName\" character varying, \"inventoryLevel\" numeric, \"itemUnit\" integer) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"AcquirableMaterialHasAcquirableMaterialId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										ii.\"InventoryItemHasInventoryItemCode\",\n"
						+ "										\"This_has_Name\",\n"
						+ "										\"This_has_MinimumInventoryLevel\",\n"
						+ "										\"This_is_measured_in_Unit_with_UnitHasUnitId\"\n"
						+ "								FROM soberano.\"AcquirableMaterial\" am\n"
						+ "									INNER JOIN soberano.\"InventoryItem\" ii\n"
						+ "										ON ii.\"InventoryItemHasInventoryItemCode\" = am.\"InventoryItemHasInventoryItemCode\"\n"
						+ "								WHERE \"AcquirableMaterialHasAcquirableMaterialId\" = acquirablematerialid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_AcquirableMaterial_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" text) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 100\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT *\n"
						+ "						FROM (SELECT DISTINCT \"AcquirableMaterialHasAcquirableMaterialId\", \n"
						+ "									\"This_has_Name\" || ' : ' || am.\"InventoryItemHasInventoryItemCode\" \"domainObjectName\"\n"
						+ "									FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(7, 1, loginname) instance\n"
						+ "										INNER JOIN soberano.\"AcquirableMaterial\" am\n"
						+ "											ON instance.\"InstanceId\" = am.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "							 			INNER JOIN soberano.\"InventoryItem\" ii\n"
						+ "											ON am.\"InventoryItemHasInventoryItemCode\" = ii.\"InventoryItemHasInventoryItemCode\") sq\n"
						+ "						ORDER BY \"domainObjectName\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_AcquirableMaterial_modify\"(\n"
						+ "	acquirablematerialid integer,\n"
						+ "	itemcode character varying,\n"
						+ "	itemname character varying,\n"
						+ "	inventorylevel numeric,\n"
						+ "	itemunit integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "		\n"
						+ "		oldItemCode character varying;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT objectdata.\"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\",\n"
						+ "				\n"
						+ "				objectdata.iiCode\n"
						+ "			FROM (SELECT \"AcquirableMaterialHasAcquirableMaterialId\",\n"
						+ "				  		\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "				  		\"This_has_Name\",\n"
						+ "				  		ii.\"InventoryItemHasInventoryItemCode\" iiCode FROM soberano.\"AcquirableMaterial\" am\n"
						+ "					INNER JOIN soberano.\"InventoryItem\" ii\n"
						+ "						ON ii.\"InventoryItemHasInventoryItemCode\" = am.\"InventoryItemHasInventoryItemCode\") objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE objectdata.\"AcquirableMaterialHasAcquirableMaterialId\" = acquirablematerialid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId,\n"
						+ "				\n"
						+ "				oldItemCode;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			--update the object\n"
						+ "			UPDATE soberano.\"InventoryItem\"\n"
						+ "				SET \"InventoryItemHasInventoryItemCode\" = itemCode,\n"
						+ "					\"This_has_Name\" = itemName,\n"
						+ "					\"This_has_MinimumInventoryLevel\" = inventoryLevel,\n"
						+ "					\"This_is_measured_in_Unit_with_UnitHasUnitId\" = itemUnit\n"
						+ "				WHERE \"InventoryItemHasInventoryItemCode\" = oldItemCode;			\n"
						+ "			UPDATE soberano.\"AcquirableMaterial\"\n"
						+ "				SET \"InventoryItemHasInventoryItemCode\" = itemCode\n"
						+ "				WHERE \"AcquirableMaterialHasAcquirableMaterialId\" = acquirablematerialid;\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(AcquirableMaterial)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_updatePrices\"()\n"
						+ "    RETURNS void\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		systemCurrencyIsReferenceCurrency boolean;\n"
						+ "	BEGIN\n"
						+ "		SELECT COUNT(*) = 1 FROM soberano.\"Currency\"\n"
						+ "			WHERE \"Currency_is_system_currency\" OR \"Currency_is_price_reference_currency\"\n"
						+ "			INTO systemCurrencyIsReferenceCurrency;\n"
						+ "		\n"
						+ "		IF systemCurrencyIsReferenceCurrency THEN\n"
						+ "			UPDATE soberano.\"Product\" \n"
						+ "				SET \"This_has_Price_in_reference_currency\" = \"This_has_Price\";\n"
						+ "		ELSE\n"
						+ "			UPDATE soberano.\"Product\"\n"
						+ "				SET \"This_has_Price\" = \"This_has_Price_in_reference_currency\" * rc.\"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\"\n"
						+ "				FROM (SELECT \"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\" \n"
						+ "					  	FROM soberano.\"Currency\" WHERE \"Currency_is_price_reference_currency\") rc;\n"
						+ "		END IF;\n"
						+ "	END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_updateStockValues\"(oldSystemCurrency integer)\n"
						+ "    RETURNS void\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		UPDATE soberano.\"Stock\" SET \"This_has_Value\" = \"This_has_Value\" * osc.\"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\"\n"
						+ "			FROM (SELECT \"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\" \n"
						+ "				  	FROM soberano.\"Currency\" WHERE \"CurrencyHasCurrencyId\" = oldSystemCurrency) osc;\n"
						+ "	END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_create\"(\n"
						+ "	itemcode character varying,\n"
						+ "	itemname character varying,\n"
						+ "	issystemcurrency boolean,\n"
						+ "	ispricereferencecurrency boolean,\n"
						+ "	iscash boolean,\n"
						+ "	exchangerate numeric,\n"
						+ "	currencyposition integer,\n"
						+ "	paymentprocessor integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		itemId integer;\n"
						+ "		finalExchangeRate numeric;\n"
						+ "		oldSystemCurrency integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		itemId = -1;	\n"
						+ "		\n"
						+ "		--create entity type instance	\n"
						+ "		SELECT soberano.\"fn_EntityTypeInstance_create\"('Currency', loginname)\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "			\n"
						+ "		--user has rights to create instance of that entity type\n"
						+ "		IF entityTypeInstanceId > 0 THEN\n"
						+ "		\n"
						+ "			IF isSystemCurrency THEN finalExchangeRate = 1; ELSE finalExchangeRate = exchangeRate; END IF;\n"
						+ "			IF finalExchangeRate < 0 THEN finalExchangeRate = 0; END IF;\n"
						+ "			\n"
						+ "			SELECT \"CurrencyHasCurrencyId\" FROM soberano.\"Currency\" \n"
						+ "				WHERE \"Currency_is_system_currency\" INTO oldSystemCurrency;\n"
						+ "			\n"
						+ "			--at most one currency is system currency\n"
						+ "			--at most one currency is reference price currency\n"
						+ "			PERFORM soberano.\"fn_Currency_RULE_CONSTRAINTS_4_AND_5\"(isSystemCurrency, isPriceReferenceCurrency);\n"
						+ "			\n"
						+ "			INSERT INTO soberano.\"Currency\"(\"This_has_Currency_code\", \n"
						+ "											\"This_has_Name\",\n"
						+ "											\"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\", \n"
						+ "											\"This_is_shown_in_Position\", \n"
						+ "											\"Currency_is_system_currency\", \n"
						+ "											\"Currency_is_price_reference_currency\", \n"
						+ "											\"Currency_is_cash\", \n"
						+ "											\"PaymentProcessor_with_PaymentProcessorHasPaymentProcessorId_is_\")\n"
						+ "				VALUES (itemcode,\n"
						+ "						itemname,\n"
						+ "						finalExchangeRate,\n"
						+ "						currencyPosition,\n"
						+ "						issystemcurrency,\n"
						+ "						ispricereferencecurrency,\n"
						+ "						isCash,\n"
						+ "						paymentProcessor\n"
						+ "					   ) RETURNING \"CurrencyHasCurrencyId\" INTO itemId;\n"
						+ "					   \n"
						+ "			--at least one currency must be system currency\n"
						+ "			--at least one currency must be reference price currency\n"
						+ "			PERFORM soberano.\"fn_Currency_RULE_CONSTRAINTS_6_AND_7\"(itemId);\n"
						+ "			\n"
						+ "			PERFORM soberano.\"fn_Currency_updatePrices\"();\n"
						+ "			\n"
						+ "			PERFORM soberano.\"fn_Currency_updateStockValues\"(oldSystemCurrency);\n"
						+ "		END IF;\n"
						+ "		RETURN itemId;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_disable\"(\n"
						+ "	itemid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Currency\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Disable'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CurrencyHasCurrencyId\" = itemid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;		\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "				\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(CURRENCY)# ' || objectCode || ' #TO_TRANSLATE(DISABLED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_getAll\"(\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"domainObjectId\" integer, \"domainObjectName\" character varying) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 50\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"CurrencyHasCurrencyId\", \"This_has_Name\" \n"
						+ "						FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(9, 1, loginname) instance\n"
						+ "							INNER JOIN soberano.\"Currency\" currency\n"
						+ "								ON instance.\"InstanceId\" = currency.\"This_is_identified_by_EntityTypeInstance_id\"\n"
						+ "						ORDER BY \"This_has_Name\" ASC;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_modify\"(\n"
						+ "	itemid integer,\n"
						+ "	itemname character varying,\n"
						+ "	itemcode character varying,\n"
						+ "	issystemcurrency boolean,\n"
						+ "	ispricereferencecurrency boolean,\n"
						+ "	iscash boolean,\n"
						+ "	exchangerate numeric,\n"
						+ "	currencyposition integer,\n"
						+ "	paymentprocessor integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "		decisionId integer;\n"
						+ "		objectCode character varying;\n"
						+ "		qryResult integer;\n"
						+ "		finalExchangeRate numeric;\n"
						+ "		oldSystemCurrency integer;\n"
						+ "	BEGIN\n"
						+ "		--default returning value. user has no right.\n"
						+ "		qryResult = -1;\n"
						+ "		\n"
						+ "		SELECT \"This_is_identified_by_EntityTypeInstance_id\", \n"
						+ "				objectdata.\"This_has_Name\",\n"
						+ "				decision.\"DecisionHasDecisionId\" \n"
						+ "			FROM soberano.\"Currency\" objectdata\n"
						+ "				INNER JOIN (SELECT \"DecisionHasDecisionId\", \n"
						+ "									\"This_has_Name\" \n"
						+ "								FROM metamodel.\"Decision\") decision\n"
						+ "					ON decision.\"DecisionHasDecisionId\" = \n"
						+ "						(SELECT \"DecisionId\" \n"
						+ "						 	FROM metamodel.\"fn_EntityTypeInstance_getDecisions\"(\n"
						+ "										objectdata.\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										loginname)\n"
						+ "							WHERE \"DecisionName\" =\n"
						+ "						   \n"
						+ "								/************/\n"
						+ "									'Apply'\n"
						+ "						   		/************/						   \n"
						+ "						   \n"
						+ "						   )\n"
						+ "			WHERE \"CurrencyHasCurrencyId\" = itemid\n"
						+ "			INTO entityTypeInstanceId,\n"
						+ "				objectCode,\n"
						+ "				decisionId;	\n"
						+ "			\n"
						+ "		--user has rights\n"
						+ "		IF decisionId IS NOT NULL AND entityTypeInstanceId IS NOT NULL THEN\n"
						+ "		\n"
						+ "			IF isSystemCurrency THEN finalExchangeRate = 1; ELSE finalExchangeRate = exchangeRate; END IF;\n"
						+ "			IF finalExchangeRate < 0 THEN finalExchangeRate = 0; END IF;\n"
						+ "			\n"
						+ "			SELECT \"CurrencyHasCurrencyId\" FROM soberano.\"Currency\" \n"
						+ "				WHERE \"Currency_is_system_currency\" INTO oldSystemCurrency;\n"
						+ "			\n"
						+ "			--at most one currency is system currency\n"
						+ "			--at most one currency is reference price currency\n"
						+ "			PERFORM soberano.\"fn_Currency_RULE_CONSTRAINTS_4_AND_5\"(isSystemCurrency, isPriceReferenceCurrency);\n"
						+ "			\n"
						+ "			UPDATE soberano.\"Currency\"\n"
						+ "				SET  \"This_has_Currency_code\" = itemcode, \n"
						+ "					\"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\" = exchangerate, \n"
						+ "					\"This_is_shown_in_Position\" = currencyposition, \n"
						+ "					\"This_has_Name\" = itemname, \n"
						+ "					\"Currency_is_system_currency\" = issystemcurrency, \n"
						+ "					\"Currency_is_price_reference_currency\" = ispricereferencecurrency, \n"
						+ "					\"Currency_is_cash\" = iscash, \n"
						+ "					\"PaymentProcessor_with_PaymentProcessorHasPaymentProcessorId_is_\" = paymentprocessor\n"
						+ "				WHERE \"CurrencyHasCurrencyId\" = itemid;\n"
						+ "			\n"
						+ "			--at least one currency must be system currency\n"
						+ "			--at least one currency must be reference price currency\n"
						+ "			PERFORM soberano.\"fn_Currency_RULE_CONSTRAINTS_6_AND_7\"(itemId);\n"
						+ "			\n"
						+ "			PERFORM soberano.\"fn_Currency_updatePrices\"();\n"
						+ "			\n"
						+ "			PERFORM soberano.\"fn_Currency_updateStockValues\"(oldSystemCurrency);\n"
						+ "			\n"
						+ "			--make the decision\n"
						+ "			PERFORM metamodel.\"fn_Vote_vote\"(loginname,\n"
						+ "											entityTypeInstanceId, \n"
						+ "											decisionId, \n"
						+ "											'#TO_TRANSLATE(CURRENCY)# ' || objectCode || ' #TO_TRANSLATE(MODIFIED_BY)# ' || loginname);\n"
						+ "				\n"
						+ "			qryResult := 0;\n"
						+ "		END IF;\n"
						+ "		RETURN qryResult;\n"
						+ "END;\n"
						+ "$BODY$;",
						
						
						
						"CREATE OR REPLACE FUNCTION soberano.\"fn_Currency_get\"(\n"
						+ "	itemid integer,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS TABLE(\"itemId\" integer, \n"
						+ "				  \"entityTypeInstanceId\" integer, \n"
						+ "				  \"itemName\" character varying, \n"
						+ "				  \"itemCode\" character varying,\n"
						+ "				  \"isSystemCurrency\" boolean,\n"
						+ "				  \"isCash\" boolean,\n"
						+ "				  \"exchangeRate\" numeric,\n"
						+ "				  \"itemPosition\" integer,\n"
						+ "				  \"paymentProcessor\" integer) \n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "    ROWS 1\n"
						+ "\n"
						+ "AS $BODY$\n"
						+ "	BEGIN\n"
						+ "		RETURN QUERY SELECT DISTINCT \"CurrencyHasCurrencyId\",\n"
						+ "										\"This_is_identified_by_EntityTypeInstance_id\",\n"
						+ "										\"This_has_Name\",\n"
						+ "										\"This_has_Currency_code\",\n"
						+ "										\"Currency_is_system_currency\",\n"
						+ "										\"Currency_is_price_reference_currency\",\n"
						+ "										\"Currency_is_cash\",\n"
						+ "										\"This_is_converted_to_system_currency_multiplying_by_ExchangeRat\",\n"
						+ "										\"This_is_shown_in_Position\",\n"
						+ "										\"PaymentProcessor_with_PaymentProcessorHasPaymentProcessorId_is_\"\n"
						+ "								FROM soberano.\"Currency\"\n"
						+ "								WHERE \"CurrencyHasCurrencyId\" = itemid\n"
						+ "									AND EXISTS (SELECT metamodel.\"fn_EntityTypeInstance_getDecisions\"(\"This_is_identified_by_EntityTypeInstance_id\", loginname));\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						
										
						////////////////////
						// business facts //
						////////////////////
						
						//countries and provinces
						
						"INSERT INTO soberano.\"Country\"(\"CountryHasCountryCode\", \"This_has_Name\")\n"
						+ "	VALUES ('CU', 'Cuba');\n"
						+ "	\n"
						+ "INSERT INTO soberano.\"Province\"(\"ProvinceHasProvinceId\", \"This_has_Name\", \"This_belongs_to_Country_with_CountryHasCountryCode\")\n"
						+ "	VALUES (1, 'Pinar del Ro', 'CU'),\n"
						+ "		(2, 'La Habana', 'CU'),\n"
						+ "		(3, 'Matanzas', 'CU'),\n"
						+ "		(4, 'Villa Clara', 'CU'),\n"
						+ "		(5, 'Isla de la Juventud', 'CU'),\n"
						+ "		(6, 'Artemisa', 'CU'),\n"
						+ "		(7, 'Mayabeque', 'CU'),\n"
						+ "		(8, 'Guantnamo', 'CU'),\n"
						+ "		(9, 'Santiago de Cuba', 'CU'),\n"
						+ "		(10, 'Granma', 'CU'),\n"
						+ "		(11, 'Holgun', 'CU'),\n"
						+ "		(12, 'Las Tunas', 'CU'),\n"
						+ "		(13, 'Camagey', 'CU'),\n"
						+ "		(14, 'Ciego de vila', 'CU'),\n"
						+ "		(15, 'Sancti Spritus', 'CU'),\n"
						+ "		(16, 'Cienfuegos', 'CU');",
						
						//municipalities
						
						"INSERT INTO soberano.\"Municipality\"(\"This_has_Name\", \"This_belongs_to_Province_with_ProvinceHasProvinceId\")\n"
						+ "			VALUES	('Mantua', 1),\n"
						+ "					('Minas de Matahambre', 1),\n"
						+ "					('Viales', 1),\n"
						+ "					('La Palma', 1),\n"
						+ "					('Los Palacios', 1),\n"
						+ "					('San Luis', 1),\n"
						+ "					('Guane', 1),\n"
						+ "					('Sandino', 1),\n"
						+ "					('Consolacin del Sur', 1),\n"
						+ "					('Pinar del Ro', 1),\n"
						+ "					('San Juan y Martnez', 1),\n"
						+ "					('Playa', 2),\n"
						+ "					('Plaza de la Revolucin', 2),\n"
						+ "					('Centro Habana', 2),\n"
						+ "					('La Habana Vieja', 2),\n"
						+ "					('Regla', 2),\n"
						+ "					('La Habana del Este', 2),\n"
						+ "					('Guanabacoa', 2),\n"
						+ "					('San Miguel del Padrn', 2),\n"
						+ "					('Diez de Octubre', 2),\n"
						+ "					('Cerro', 2),\n"
						+ "					('Marianao', 2),\n"
						+ "					('La Lisa', 2),\n"
						+ "					('Boyeros', 2),\n"
						+ "					('Arroyo Naranjo', 2),\n"
						+ "					('Cotorro', 2),\n"
						+ "					('Matanzas', 3),\n"
						+ "					('Crdenas', 3),\n"
						+ "					('Antiguo - Varadero', 3),\n"
						+ "					('Coln', 3),\n"
						+ "					('Perico', 3),\n"
						+ "					('Jovellanos', 3),\n"
						+ "					('Pedro Betancourt', 3),\n"
						+ "					('Limonar', 3),\n"
						+ "					('Unin de Reyes', 3),\n"
						+ "					('Cinaga de Zapata', 3),\n"
						+ "					('Jagey Grande', 3),\n"
						+ "					('Calimete', 3),\n"
						+ "					('Los Arabos', 3),\n"
						+ "					('Mart', 3),\n"
						+ "					('Corralillo', 4),\n"
						+ "					('Quemado de Guines', 4),\n"
						+ "					('Sagua la Grande', 4),\n"
						+ "					('Encrucijada', 4),\n"
						+ "					('Camajuan', 4),\n"
						+ "					('Caibarin', 4),\n"
						+ "					('Remedios', 4),\n"
						+ "					('Placetas', 4),\n"
						+ "					('Santa Clara', 4),\n"
						+ "					('Cifuentes', 4),\n"
						+ "					('Santo Domingo', 4),\n"
						+ "					('Ranchuelo', 4),\n"
						+ "					('Manicaragua', 4),\n"
						+ "					('Aguada de Pasajeros', 16),\n"
						+ "					('Rodas', 16),\n"
						+ "					('Palmira', 16),\n"
						+ "					('Lajas', 16),\n"
						+ "					('Cruces', 16),\n"
						+ "					('Cumanayagua', 16),\n"
						+ "					('Cienfuegos', 16),\n"
						+ "					('Abreus', 16),\n"
						+ "					('Yaguajay', 15),\n"
						+ "					('Jatibonico', 15),\n"
						+ "					('Taguasco', 15),\n"
						+ "					('Cabaigun', 15),\n"
						+ "					('Fomento', 15),\n"
						+ "					('Trinidad', 15),\n"
						+ "					('La Sierpe', 15),\n"
						+ "					('Sancti Spritus', 15),\n"
						+ "					('Chambas', 14),\n"
						+ "					('Morn', 14),\n"
						+ "					('Bolivia', 14),\n"
						+ "					('Primero de Enero', 14),\n"
						+ "					('Ciro Redondo', 14),\n"
						+ "					('Florencia', 14),\n"
						+ "					('Majagua', 14),\n"
						+ "					('Venezuela', 14),\n"
						+ "					('Baragu', 14),\n"
						+ "					('Ciego de vila', 14),\n"
						+ "					('Carlos Manuel de Cspedes', 13),\n"
						+ "					('Esmeralda', 13),\n"
						+ "					('Sierra de Cubitas', 13),\n"
						+ "					('Minas', 13),\n"
						+ "					('Nuevitas', 13),\n"
						+ "					('Sibanic', 13),\n"
						+ "					('Camagey', 13),\n"
						+ "					('Florida', 13),\n"
						+ "					('Vertientes', 13),\n"
						+ "					('Jimaguay', 13),\n"
						+ "					('Najasa', 13),\n"
						+ "					('Santa Cruz del Sur', 13),\n"
						+ "					('Guimaro', 13),\n"
						+ "					('Manat', 12),\n"
						+ "					('Puerto Padre', 12),\n"
						+ "					('Majibacoa', 12),\n"
						+ "					('Las Tunas', 12),\n"
						+ "					('Jobabo', 12),\n"
						+ "					('Colombia', 12),\n"
						+ "					('Amancio', 12),\n"
						+ "					('Jess Menndez', 12),\n"
						+ "					('Gibara', 11),\n"
						+ "					('Rafael Freyre', 11),\n"
						+ "					('Banes', 11),\n"
						+ "					('Antilla', 11),\n"
						+ "					('Bguanos', 11),\n"
						+ "					('Holgun', 11),\n"
						+ "					('Cacocm', 11),\n"
						+ "					('Urbano Noris', 11),\n"
						+ "					('Cueto', 11),\n"
						+ "					('Sagua de Tnamo', 11),\n"
						+ "					('Moa', 11),\n"
						+ "					('Calixto Garca', 11),\n"
						+ "					('Mayar', 11),\n"
						+ "					('Frank Pas', 11),\n"
						+ "					('Cauto Cristo', 10),\n"
						+ "					('Bayamo', 10),\n"
						+ "					('Yara', 10),\n"
						+ "					('Manzanillo', 10),\n"
						+ "					('Campechuela', 10),\n"
						+ "					('Media Luna', 10),\n"
						+ "					('Niquero', 10),\n"
						+ "					('Piln', 10),\n"
						+ "					('Bartolom Mas', 10),\n"
						+ "					('Buey Arriba', 10),\n"
						+ "					('Guisa', 10),\n"
						+ "					('Ro Cauto', 10),\n"
						+ "					('Jiguan', 10),\n"
						+ "					('Contramaestre', 9),\n"
						+ "					('Mella', 9),\n"
						+ "					('San Luis', 9),\n"
						+ "					('Segundo Frente', 9),\n"
						+ "					('Songo - La Maya', 9),\n"
						+ "					('Santiago de Cuba', 9),\n"
						+ "					('Palma Soriano', 9),\n"
						+ "					('Tercer Frente', 9),\n"
						+ "					('Guam', 9),\n"
						+ "					('El Salvador', 8),\n"
						+ "					('Guantnamo', 8),\n"
						+ "					('Yateras', 8),\n"
						+ "					('Baracoa', 8),\n"
						+ "					('Imas', 8),\n"
						+ "					('San Antonio del Sur', 8),\n"
						+ "					('Manuel Tmes', 8),\n"
						+ "					('Caimanera', 8),\n"
						+ "					('Niceto Prez', 8),\n"
						+ "					('Mais', 8),\n"
						+ "					('Isla de la Juventud', 5),\n"
						+ "					('Baha Honda', 6),\n"
						+ "					('Mariel', 6),\n"
						+ "					('Guanajay', 6),\n"
						+ "					('Caimito', 6),\n"
						+ "					('Bauta', 6),\n"
						+ "					('San antonio de los Baos', 6),\n"
						+ "					('Guira de Melena', 6),\n"
						+ "					('Alquizar', 6),\n"
						+ "					('Artemisa', 6),\n"
						+ "					('Candelaria', 6),\n"
						+ "					('San Cristbal', 6),\n"
						+ "					('Bejucal', 7),\n"
						+ "					('San Jos de las Lajas', 7),\n"
						+ "					('Jaruco', 7),\n"
						+ "					('Santa Cruz del Norte', 7),\n"
						+ "					('Madruga', 7),\n"
						+ "					('Nueva Paz', 7),\n"
						+ "					('San Nicols', 7),\n"
						+ "					('Guines', 7),\n"
						+ "					('Melena del Sur', 7),\n"
						+ "					('Bataban', 7),\n"
						+ "					('Quivicn', 7);",
						
						////////////////////
						// helper queries //
						////////////////////
						
						"--returns the new entity type instance's id, or -1 in case the user doesn't have rights to create\n"
						+ "--instances of that entity type\n"
						+ "CREATE OR REPLACE FUNCTION soberano.\"fn_EntityTypeInstance_create\"(\n"
						+ "	entitytypename character varying,\n"
						+ "	loginname character varying)\n"
						+ "    RETURNS integer\n"
						+ "    LANGUAGE 'plpgsql'\n"
						+ "    COST 100\n"
						+ "    VOLATILE PARALLEL UNSAFE\n"
						+ "AS $BODY$\n"
						+ "	DECLARE\n"
						+ "		entityTypeInstanceId integer;\n"
						+ "	BEGIN\n"
						+ "		SELECT \"metamodel\".\"fn_EntityTypeInstance_create\"(1, \n"
						+ "														\"MeaningHasMeaningId\",\n"
						+ "														loginname)\n"
						+ "			FROM \"metamodel\".\"Meaning\"\n"
						+ "			WHERE \"This_has_Name\" = entityTypeName\n"
						+ "			INTO entityTypeInstanceId;\n"
						+ "		IF entityTypeInstanceId > 0 THEN \n"
						+ "			RETURN entityTypeInstanceId;\n"
						+ "		ELSE \n"
						+ "			RETURN -1;\n"
						+ "		END IF;\n"
						+ "	END;	\n"
						+ "$BODY$;",
						
						"--optimizations\n"
						+ "CREATE INDEX IF NOT EXISTS index1\n"
						+ "    ON soberano.\"Worker\" USING btree\n"
						+ "    (\"This_has_LoginName\" COLLATE pg_catalog.\"default\" ASC NULLS LAST)\n"
						+ "    TABLESPACE pg_default;"
					}
				)
			);
	}
}
